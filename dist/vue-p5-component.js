!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("p5")):"function"==typeof define&&define.amd?define("vue-p5-component",["p5"],e):"object"==typeof exports?exports["vue-p5-component"]=e(require("p5")):t["vue-p5-component"]=e(t.p5)}(window,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(e,n){e.exports=t},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t,n){
/*!
 * Vue.js v2.6.8
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function o(t){return null==t}function r(t){return null!=t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function p(t){return"[object Object]"===c.call(t)}function l(t){return"[object RegExp]"===c.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||p(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),o=0;o<i.length;o++)n[i[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function T(t,e){return _.call(t,e)}function b(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var x=/-(\w)/g,w=b(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),S=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),A=/\B([A-Z])/g,k=b(function(t){return t.replace(A,"-$1").toLowerCase()});var P=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function C(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function E(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function M(t,e,n){}var F=function(t,e,n){return!1},N=function(t){return t};function D(t,e){if(t===e)return!0;var n=u(t),i=u(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var o=Array.isArray(t),r=Array.isArray(e);if(o&&r)return t.length===e.length&&t.every(function(t,n){return D(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||r)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return D(t[n],e[n])})}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function V(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var I="data-server-rendered",q=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],L={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:F,isReservedAttr:F,isUnknownElement:F,getTagNamespace:M,parsePlatformTagName:N,mustUseProp:F,async:!0,_lifecycleHooks:B},j=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var $=new RegExp("[^"+j.source+".$_\\d]");var G,H="__proto__"in{},z="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=W&&WXEnvironment.platform.toLowerCase(),Z=z&&window.navigator.userAgent.toLowerCase(),Y=Z&&/msie|trident/.test(Z),Q=Z&&Z.indexOf("msie 9.0")>0,K=Z&&Z.indexOf("edge/")>0,J=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===X),tt=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(z)try{var it={};Object.defineProperty(it,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,it)}catch(t){}var ot=function(){return void 0===G&&(G=!z&&!W&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),G},rt=z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var at,ut="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);at="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=M,pt=0,lt=function(){this.id=pt++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){g(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},lt.target=null;var ht=[];function ft(t){ht.push(t),lt.target=t}function dt(){ht.pop(),lt.target=ht[ht.length-1]}var mt=function(t,e,n,i,o,r,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=o,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vt={child:{configurable:!0}};vt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,vt);var yt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function gt(t){return new mt(void 0,void 0,void 0,String(t))}function _t(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tt=Array.prototype,bt=Object.create(Tt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Tt[t];U(bt,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var o,r=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&s.observeArray(o),s.dep.notify(),r})});var xt=Object.getOwnPropertyNames(bt),wt=!0;function St(t){wt=t}var At=function(t){var e;this.value=t,this.dep=new lt,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t)?(H?(e=bt,t.__proto__=e):function(t,e,n){for(var i=0,o=n.length;i<o;i++){var r=n[i];U(t,r,e[r])}}(t,bt,xt),this.observeArray(t)):this.walk(t)};function kt(t,e){var n;if(u(t)&&!(t instanceof mt))return T(t,"__ob__")&&t.__ob__ instanceof At?n=t.__ob__:wt&&!ot()&&(Array.isArray(t)||p(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new At(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,i,o){var r=new lt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=t[e]);var c=!o&&kt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return lt.target&&(r.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,o=e.length;i<o;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!=e&&i!=i||a&&!u||(u?u.call(t,e):n=e,c=!o&&kt(e),r.notify())}})}}function Ct(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Pt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Ot(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||T(t,e)&&(delete t[e],n&&n.dep.notify())}}At.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},At.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)kt(t[e])};var Et=L.optionMergeStrategies;function Mt(t,e){if(!e)return t;for(var n,i,o,r=ut?Reflect.ownKeys(e):Object.keys(e),s=0;s<r.length;s++)"__ob__"!==(n=r[s])&&(i=t[n],o=e[n],T(t,n)?i!==o&&p(i)&&p(o)&&Mt(i,o):Ct(t,n,o));return t}function Ft(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,o="function"==typeof t?t.call(n,n):t;return i?Mt(i,o):o}:e?t?function(){return Mt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Nt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Dt(t,e,n,i){var o=Object.create(t||null);return e?O(o,e):o}Et.data=function(t,e,n){return n?Ft(t,e,n):e&&"function"!=typeof e?t:Ft(t,e)},B.forEach(function(t){Et[t]=Nt}),q.forEach(function(t){Et[t+"s"]=Dt}),Et.watch=function(t,e,n,i){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var r in O(o,t),e){var s=o[r],a=e[r];s&&!Array.isArray(s)&&(s=[s]),o[r]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},Et.props=Et.methods=Et.inject=Et.computed=function(t,e,n,i){if(!t)return e;var o=Object.create(null);return O(o,t),e&&O(o,e),o},Et.provide=Ft;var Rt=function(t,e){return void 0===e?t:e};function Vt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,o,r={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(o=n[i])&&(r[w(o)]={type:null});else if(p(n))for(var s in n)o=n[s],r[w(s)]=p(o)?o:{type:o};t.props=r}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)i[n[o]]={from:n[o]};else if(p(n))for(var r in n){var s=n[r];i[r]=p(s)?O({from:r},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Vt(t,e.extends,n)),e.mixins))for(var i=0,o=e.mixins.length;i<o;i++)t=Vt(t,e.mixins[i],n);var r,s={};for(r in t)a(r);for(r in e)T(t,r)||a(r);function a(i){var o=Et[i]||Rt;s[i]=o(t[i],e[i],n,i)}return s}function It(t,e,n,i){if("string"==typeof n){var o=t[e];if(T(o,n))return o[n];var r=w(n);if(T(o,r))return o[r];var s=S(r);return T(o,s)?o[s]:o[n]||o[r]||o[s]}}function qt(t,e,n,i){var o=e[t],r=!T(n,t),s=n[t],a=jt(Boolean,o.type);if(a>-1)if(r&&!T(o,"default"))s=!1;else if(""===s||s===k(t)){var u=jt(String,o.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(!T(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof i&&"Function"!==Bt(e.type)?i.call(t):i}(i,o,t);var c=wt;St(!0),kt(s),St(c)}return s}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Lt(t,e){return Bt(t)===Bt(e)}function jt(t,e){if(!Array.isArray(e))return Lt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Lt(e[n],t))return n;return-1}function Ut(t,e,n){ft();try{if(e)for(var i=e;i=i.$parent;){var o=i.$options.errorCaptured;if(o)for(var r=0;r<o.length;r++)try{if(!1===o[r].call(i,t,e,n))return}catch(t){Gt(t,i,"errorCaptured hook")}}Gt(t,e,n)}finally{dt()}}function $t(t,e,n,i,o){var r;try{(r=n?t.apply(e,n):t.call(e))&&!r._isVue&&f(r)&&(r=r.catch(function(t){return Ut(t,i,o+" (Promise/async)")}))}catch(t){Ut(t,i,o)}return r}function Gt(t,e,n){if(L.errorHandler)try{return L.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Ht(e,null,"config.errorHandler")}Ht(t,e,n)}function Ht(t,e,n){if(!z&&!W||"undefined"==typeof console)throw t;console.error(t)}var zt,Wt=!1,Xt=[],Zt=!1;function Yt(){Zt=!1;var t=Xt.slice(0);Xt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var Qt=Promise.resolve();zt=function(){Qt.then(Yt),J&&setTimeout(M)},Wt=!0}else if(Y||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())zt=void 0!==n&&st(n)?function(){n(Yt)}:function(){setTimeout(Yt,0)};else{var Kt=1,Jt=new MutationObserver(Yt),te=document.createTextNode(String(Kt));Jt.observe(te,{characterData:!0}),zt=function(){Kt=(Kt+1)%2,te.data=String(Kt)},Wt=!0}function ee(t,e){var n;if(Xt.push(function(){if(t)try{t.call(e)}catch(t){Ut(t,e,"nextTick")}else n&&n(e)}),Zt||(Zt=!0,zt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ne=new at;function ie(t){!function t(e,n){var i,o;var r=Array.isArray(e);if(!r&&!u(e)||Object.isFrozen(e)||e instanceof mt)return;if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(r)for(i=e.length;i--;)t(e[i],n);else for(o=Object.keys(e),i=o.length;i--;)t(e[o[i]],n)}(t,ne),ne.clear()}var oe=b(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function re(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return $t(i,null,arguments,e,"v-on handler");for(var o=i.slice(),r=0;r<o.length;r++)$t(o[r],null,t,e,"v-on handler")}return n.fns=t,n}function se(t,e,n,i,r,a){var u,c,p,l;for(u in t)c=t[u],p=e[u],l=oe(u),o(c)||(o(p)?(o(c.fns)&&(c=t[u]=re(c,a)),s(l.once)&&(c=t[u]=r(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==p&&(p.fns=c,t[u]=p));for(u in e)o(t[u])&&i((l=oe(u)).name,e[u],l.capture)}function ae(t,e,n){var i;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function u(){n.apply(this,arguments),g(i.fns,u)}o(a)?i=re([u]):r(a.fns)&&s(a.merged)?(i=a).fns.push(u):i=re([a,u]),i.merged=!0,t[e]=i}function ue(t,e,n,i,o){if(r(e)){if(T(e,n))return t[n]=e[n],o||delete e[n],!0;if(T(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function ce(t){return a(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var i=[];var u,c,p,l;for(u=0;u<e.length;u++)o(c=e[u])||"boolean"==typeof c||(p=i.length-1,l=i[p],Array.isArray(c)?c.length>0&&(pe((c=t(c,(n||"")+"_"+u))[0])&&pe(l)&&(i[p]=gt(l.text+c[0].text),c.shift()),i.push.apply(i,c)):a(c)?pe(l)?i[p]=gt(l.text+c):""!==c&&i.push(gt(c)):pe(c)&&pe(l)?i[p]=gt(l.text+c.text):(s(e._isVList)&&r(c.tag)&&o(c.key)&&r(n)&&(c.key="__vlist"+n+"_"+u+"__"),i.push(c)));return i}(t):void 0}function pe(t){return r(t)&&r(t.text)&&!1===t.isComment}function le(t,e){if(t){for(var n=Object.create(null),i=ut?Reflect.ownKeys(t):Object.keys(t),o=0;o<i.length;o++){var r=i[o];if("__ob__"!==r){for(var s=t[r].from,a=e;a;){if(a._provided&&T(a._provided,s)){n[r]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[r]){var u=t[r].default;n[r]="function"==typeof u?u.call(e):u}else 0}}return n}}function he(t,e){if(!t||!t.length)return{};for(var n={},i=0,o=t.length;i<o;i++){var r=t[i],s=r.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,r.context!==e&&r.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(r);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===r.tag?u.push.apply(u,r.children||[]):u.push(r)}}for(var c in n)n[c].every(fe)&&delete n[c];return n}function fe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function de(t,e,n){var o,r=!t||!!t.$stable,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(r&&n&&n!==i&&s===n.$key&&0===Object.keys(e).length)return n;for(var a in o={},t)t[a]&&"$"!==a[0]&&(o[a]=me(e,a,t[a]))}else o={};for(var u in e)u in o||(o[u]=ve(e,u));return t&&Object.isExtensible(t)&&(t._normalized=o),U(o,"$stable",r),U(o,"$key",s),o}function me(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&0===t.length?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function ve(t,e){return function(){return t[e]}}function ye(t,e){var n,i,o,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(u(t))if(ut&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),p=c.next();!p.done;)n.push(e(p.value,n.length)),p=c.next()}else for(s=Object.keys(t),n=new Array(s.length),i=0,o=s.length;i<o;i++)a=s[i],n[i]=e(t[a],a,i);return r(n)||(n=[]),n._isVList=!0,n}function ge(t,e,n,i){var o,r=this.$scopedSlots[t];r?(n=n||{},i&&(n=O(O({},i),n)),o=r(n)||e):o=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function _e(t){return It(this.$options,"filters",t)||N}function Te(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function be(t,e,n,i,o){var r=L.keyCodes[e]||n;return o&&i&&!L.keyCodes[e]?Te(o,i):r?Te(r,t):i?k(i)!==e:void 0}function xe(t,e,n,i,o){if(n)if(u(n)){var r;Array.isArray(n)&&(n=E(n));var s=function(s){if("class"===s||"style"===s||y(s))r=t;else{var a=t.attrs&&t.attrs.type;r=i||L.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=w(s);s in r||u in r||(r[s]=n[s],o&&((t.on||(t.on={}))["update:"+u]=function(t){n[s]=t}))};for(var a in n)s(a)}else;return t}function we(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(Ae(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Se(t,e,n){return Ae(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ae(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&ke(t[i],e+"_"+i,n);else ke(t,e,n)}function ke(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Pe(t,e){if(e)if(p(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var o=n[i],r=e[i];n[i]=o?[].concat(o,r):r}}else;return t}function Ce(t,e,n,i){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var r=t[o];Array.isArray(r)?Ce(r,e,n):r&&(r.proxy&&(r.fn.proxy=!0),e[r.key]=r.fn)}return i&&(e.$key=i),e}function Oe(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Ee(t,e){return"string"==typeof t?e+t:t}function Me(t){t._o=Se,t._n=m,t._s=d,t._l=ye,t._t=ge,t._q=D,t._i=R,t._m=we,t._f=_e,t._k=be,t._b=xe,t._v=gt,t._e=yt,t._u=Ce,t._g=Pe,t._d=Oe,t._p=Ee}function Fe(t,e,n,o,r){var a,u=this,c=r.options;T(o,"_uid")?(a=Object.create(o))._original=o:(a=o,o=o._original);var p=s(c._compiled),l=!p;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||i,this.injections=le(c.inject,o),this.slots=function(){return u.$slots||de(t.scopedSlots,u.$slots=he(n,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return de(t.scopedSlots,this.slots())}}),p&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=de(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var r=je(a,t,e,n,i,l);return r&&!Array.isArray(r)&&(r.fnScopeId=c._scopeId,r.fnContext=o),r}:this._c=function(t,e,n,i){return je(a,t,e,n,i,l)}}function Ne(t,e,n,i,o){var r=_t(t);return r.fnContext=n,r.fnOptions=i,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function De(t,e){for(var n in e)t[w(n)]=e[n]}Me(Fe.prototype);var Re={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Re.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Qe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,o,r){0;var s=o.data.scopedSlots,a=t.$scopedSlots,u=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),c=!!(r||t.$options._renderChildren||u);t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o);if(t.$options._renderChildren=r,t.$attrs=o.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){St(!1);for(var p=t._props,l=t.$options._propKeys||[],h=0;h<l.length;h++){var f=l[h],d=t.$options.props;p[f]=qt(f,d,e,t)}St(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ye(t,n,m),c&&(t.$slots=he(r,o.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,en(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,on.push(e)):tn(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Je(e)))return;if(!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);en(e,"deactivated")}}(e,!0):e.$destroy())}},Ve=Object.keys(Re);function Ie(t,e,n,a,c){if(!o(t)){var p=n.$options._base;if(u(t)&&(t=p.extend(t)),"function"==typeof t){var l;if(o(t.cid)&&void 0===(t=function(t,e){if(s(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=$e;r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(s(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.owners)){var i=t.owners=[n],a=!0;n.$on("hook:destroyed",function(){return g(i,n)});var c=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0)},p=V(function(n){t.resolved=Ge(n,e),a?i.length=0:c(!0)}),l=V(function(e){r(t.errorComp)&&(t.error=!0,c(!0))}),h=t(p,l);return u(h)&&(f(h)?o(t.resolved)&&h.then(p,l):f(h.component)&&(h.component.then(p,l),r(h.error)&&(t.errorComp=Ge(h.error,e)),r(h.loading)&&(t.loadingComp=Ge(h.loading,e),0===h.delay?t.loading=!0:setTimeout(function(){o(t.resolved)&&o(t.error)&&(t.loading=!0,c(!1))},h.delay||200)),r(h.timeout)&&setTimeout(function(){o(t.resolved)&&l(null)},h.timeout))),a=!1,t.loading?t.loadingComp:t.resolved}}(l=t,p)))return function(t,e,n,i,o){var r=yt();return r.asyncFactory=t,r.asyncMeta={data:e,context:n,children:i,tag:o},r}(l,e,n,a,c);e=e||{},wn(t),r(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[i],a=e.model.callback;r(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[i]=[a].concat(s)):o[i]=a}(t.options,e);var h=function(t,e,n){var i=e.options.props;if(!o(i)){var s={},a=t.attrs,u=t.props;if(r(a)||r(u))for(var c in i){var p=k(c);ue(s,u,c,p,!0)||ue(s,a,c,p,!1)}return s}}(e,t);if(s(t.options.functional))return function(t,e,n,o,s){var a=t.options,u={},c=a.props;if(r(c))for(var p in c)u[p]=qt(p,c,e||i);else r(n.attrs)&&De(u,n.attrs),r(n.props)&&De(u,n.props);var l=new Fe(n,u,s,o,t),h=a.render.call(null,l._c,l);if(h instanceof mt)return Ne(h,n,l.parent,a);if(Array.isArray(h)){for(var f=ce(h)||[],d=new Array(f.length),m=0;m<f.length;m++)d[m]=Ne(f[m],n,l.parent,a);return d}}(t,h,e,n,a);var d=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Ve.length;n++){var i=Ve[n],o=e[i],r=Re[i];o===r||o&&o._merged||(e[i]=o?qe(r,o):r)}}(e);var v=t.options.name||c;return new mt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:c,children:a},l)}}}function qe(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var Be=1,Le=2;function je(t,e,n,i,c,p){return(Array.isArray(n)||a(n))&&(c=i,i=n,n=void 0),s(p)&&(c=Le),function(t,e,n,i,a){if(r(n)&&r(n.__ob__))return yt();r(n)&&r(n.is)&&(e=n.is);if(!e)return yt();0;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);a===Le?i=ce(i):a===Be&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i));var c,p;if("string"==typeof e){var l;p=t.$vnode&&t.$vnode.ns||L.getTagNamespace(e),c=L.isReservedTag(e)?new mt(L.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(l=It(t.$options,"components",e))?new mt(e,n,i,void 0,void 0,t):Ie(l,n,t,i,e)}else c=Ie(e,n,t,i);return Array.isArray(c)?c:r(c)?(r(p)&&function t(e,n,i){e.ns=n;"foreignObject"===e.tag&&(n=void 0,i=!0);if(r(e.children))for(var a=0,u=e.children.length;a<u;a++){var c=e.children[a];r(c.tag)&&(o(c.ns)||s(i)&&"svg"!==c.tag)&&t(c,n,i)}}(c,p),r(n)&&function(t){u(t.style)&&ie(t.style);u(t.class)&&ie(t.class)}(n),c):yt()}(t,e,n,i,c)}var Ue,$e=null;function Ge(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function He(t){return t.isComment&&t.asyncFactory}function ze(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||He(n)))return n}}function We(t,e){Ue.$on(t,e)}function Xe(t,e){Ue.$off(t,e)}function Ze(t,e){var n=Ue;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function Ye(t,e,n){Ue=t,se(e,n||{},We,Xe,Ze,t),Ue=void 0}var Qe=null;function Ke(t){var e=Qe;return Qe=t,function(){Qe=e}}function Je(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function tn(t,e){if(e){if(t._directInactive=!1,Je(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)tn(t.$children[n]);en(t,"activated")}}function en(t,e){ft();var n=t.$options[e],i=e+" hook";if(n)for(var o=0,r=n.length;o<r;o++)$t(n[o],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),dt()}var nn=[],on=[],rn={},sn=!1,an=!1,un=0;var cn=0,pn=Date.now;function ln(){var t,e;for(cn=pn(),an=!0,nn.sort(function(t,e){return t.id-e.id}),un=0;un<nn.length;un++)(t=nn[un]).before&&t.before(),e=t.id,rn[e]=null,t.run();var n=on.slice(),i=nn.slice();un=nn.length=on.length=0,rn={},sn=an=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,tn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&en(i,"updated")}}(i),rt&&L.devtools&&rt.emit("flush")}z&&pn()>document.createEvent("Event").timeStamp&&(pn=function(){return performance.now()});var hn=0,fn=function(t,e,n,i,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++hn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new at,this.newDepIds=new at,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()};fn.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ut(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),dt(),this.cleanupDeps()}return t},fn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},fn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},fn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==rn[e]){if(rn[e]=!0,an){for(var n=nn.length-1;n>un&&nn[n].id>t.id;)n--;nn.splice(n+1,0,t)}else nn.push(t);sn||(sn=!0,ee(ln))}}(this)},fn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Ut(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},fn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},fn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var dn={enumerable:!0,configurable:!0,get:M,set:M};function mn(t,e,n){dn.get=function(){return this[e][n]},dn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,dn)}function vn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},o=t.$options._propKeys=[];t.$parent&&St(!1);var r=function(r){o.push(r);var s=qt(r,e,n,t);Pt(i,r,s),r in t||mn(t,"_props",r)};for(var s in e)r(s);St(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?M:P(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;p(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return Ut(t,e,"data()"),{}}finally{dt()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,o=(t.$options.methods,n.length);for(;o--;){var r=n[o];0,i&&T(i,r)||(s=void 0,36!==(s=(r+"").charCodeAt(0))&&95!==s&&mn(t,"_data",r))}var s;kt(e,!0)}(t):kt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=ot();for(var o in e){var r=e[o],s="function"==typeof r?r:r.get;0,i||(n[o]=new fn(t,s||M,M,yn)),o in t||gn(t,o,r)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var o=0;o<i.length;o++)bn(t,n,i[o]);else bn(t,n,i)}}(t,e.watch)}var yn={lazy:!0};function gn(t,e,n){var i=!ot();"function"==typeof n?(dn.get=i?_n(e):Tn(n),dn.set=M):(dn.get=n.get?i&&!1!==n.cache?_n(e):Tn(n.get):M,dn.set=n.set||M),Object.defineProperty(t,e,dn)}function _n(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),lt.target&&e.depend(),e.value}}function Tn(t){return function(){return t.call(this,this)}}function bn(t,e,n,i){return p(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var xn=0;function wn(t){var e=t.options;if(t.super){var n=wn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=n[o]);return e}(t);i&&O(t.extendOptions,i),(e=t.options=Vt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Sn(t){this._init(t)}function An(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,o=t._Ctor||(t._Ctor={});if(o[i])return o[i];var r=t.name||n.options.name;var s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Vt(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)mn(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)gn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,q.forEach(function(t){s[t]=n[t]}),r&&(s.options.components[r]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=O({},s.options),o[i]=s,s}}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function Pn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Cn(t,e){var n=t.cache,i=t.keys,o=t._vnode;for(var r in n){var s=n[r];if(s){var a=kn(s.componentOptions);a&&!e(a)&&On(n,r,i,o)}}}function On(t,e,n,i){var o=t[e];!o||i&&o.tag===i.tag||o.componentInstance.$destroy(),t[e]=null,g(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=xn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var o=i.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Vt(wn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=he(e._renderChildren,o),t.$scopedSlots=i,t._c=function(e,n,i,o){return je(t,e,n,i,o,!1)},t.$createElement=function(e,n,i,o){return je(t,e,n,i,o,!0)};var r=n&&n.data;Pt(t,"$attrs",r&&r.attrs||i,null,!0),Pt(t,"$listeners",e._parentListeners||i,null,!0)}(e),en(e,"beforeCreate"),function(t){var e=le(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach(function(n){Pt(t,n,e[n])}),St(!0))}(e),vn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),en(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Sn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ct,t.prototype.$delete=Ot,t.prototype.$watch=function(t,e,n){if(p(e))return bn(this,t,e,n);(n=n||{}).user=!0;var i=new fn(this,t,e,n);if(n.immediate)try{e.call(this,i.value)}catch(t){Ut(t,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Sn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var o=0,r=t.length;o<r;o++)i.$on(t[o],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)n.$off(t[i],e);return n}var r,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((r=s[a])===e||r.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?C(e):e;for(var n=C(arguments,1),i='event handler for "'+t+'"',o=0,r=e.length;o<r;o++)$t(e[o],this,n,this,i)}return this}}(Sn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,o=n._vnode,r=Ke(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),r(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){en(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),en(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Sn),function(t){Me(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,o=n._parentVnode;o&&(e.$scopedSlots=de(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{$e=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){Ut(n,e,"render"),t=e._vnode}finally{$e=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=yt()),t.parent=o,t}}(Sn);var En=[String,RegExp,Array],Mn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:En,exclude:En,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)On(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Cn(t,function(t){return Pn(e,t)})}),this.$watch("exclude",function(e){Cn(t,function(t){return!Pn(e,t)})})},render:function(){var t=this.$slots.default,e=ze(t),n=e&&e.componentOptions;if(n){var i=kn(n),o=this.include,r=this.exclude;if(o&&(!i||!Pn(o,i))||r&&i&&Pn(r,i))return e;var s=this.cache,a=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;s[u]?(e.componentInstance=s[u].componentInstance,g(a,u),a.push(u)):(s[u]=e,a.push(u),this.max&&a.length>parseInt(this.max)&&On(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return L}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:O,mergeOptions:Vt,defineReactive:Pt},t.set=Ct,t.delete=Ot,t.nextTick=ee,t.observable=function(t){return kt(t),t},t.options=Object.create(null),q.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Mn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=C(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Vt(this.options,t),this}}(t),An(t),function(t){q.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&p(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:ot}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Fe}),Sn.version="2.6.8";var Fn=v("style,class"),Nn=v("input,textarea,option,select,progress"),Dn=v("contenteditable,draggable,spellcheck"),Rn=v("events,caret,typing,plaintext-only"),Vn=function(t,e){return jn(e)||"false"===e?"false":"contenteditable"===t&&Rn(e)?e:"true"},In=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qn="http://www.w3.org/1999/xlink",Bn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ln=function(t){return Bn(t)?t.slice(6,t.length):""},jn=function(t){return null==t||!1===t};function Un(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=$n(i.data,e));for(;r(n=n.parent);)n&&n.data&&(e=$n(e,n.data));return function(t,e){if(r(t)||r(e))return Gn(t,Hn(e));return""}(e.staticClass,e.class)}function $n(t,e){return{staticClass:Gn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Gn(t,e){return t?e?t+" "+e:t:e||""}function Hn(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Hn(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var zn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zn=function(t){return Wn(t)||Xn(t)};var Yn=Object.create(null);var Qn=v("text,number,password,search,email,tel,url");var Kn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(zn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Jn={create:function(t,e){ti(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ti(t,!0),ti(e))},destroy:function(t){ti(t,!0)}};function ti(t,e){var n=t.data.ref;if(r(n)){var i=t.context,o=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[n])?g(s[n],o):s[n]===o&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var ei=new mt("",{},[]),ni=["create","activate","update","remove","destroy"];function ii(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||Qn(i)&&Qn(o)}(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&o(e.asyncFactory.error))}function oi(t,e,n){var i,o,s={};for(i=e;i<=n;++i)r(o=t[i].key)&&(s[o]=i);return s}var ri={create:si,update:si,destroy:function(t){si(t,ei)}};function si(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,o,r=t===ei,s=e===ei,a=ui(t.data.directives,t.context),u=ui(e.data.directives,e.context),c=[],p=[];for(n in u)i=a[n],o=u[n],i?(o.oldValue=i.value,o.oldArg=i.arg,pi(o,"update",e,t),o.def&&o.def.componentUpdated&&p.push(o)):(pi(o,"bind",e,t),o.def&&o.def.inserted&&c.push(o));if(c.length){var l=function(){for(var n=0;n<c.length;n++)pi(c[n],"inserted",e,t)};r?ae(e,"insert",l):l()}p.length&&ae(e,"postpatch",function(){for(var n=0;n<p.length;n++)pi(p[n],"componentUpdated",e,t)});if(!r)for(n in a)u[n]||pi(a[n],"unbind",t,t,s)}(t,e)}var ai=Object.create(null);function ui(t,e){var n,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=ai),o[ci(i)]=i,i.def=It(e.$options,"directives",i.name);return o}function ci(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function pi(t,e,n,i,o){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,i,o)}catch(i){Ut(i,n.context,"directive "+t.name+" "+e+" hook")}}var li=[Jn,ri];function hi(t,e){var n=e.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||o(t.data.attrs)&&o(e.data.attrs))){var i,s,a=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(i in r(c.__ob__)&&(c=e.data.attrs=O({},c)),c)s=c[i],u[i]!==s&&fi(a,i,s);for(i in(Y||K)&&c.value!==u.value&&fi(a,"value",c.value),u)o(c[i])&&(Bn(i)?a.removeAttributeNS(qn,Ln(i)):Dn(i)||a.removeAttribute(i))}}function fi(t,e,n){t.tagName.indexOf("-")>-1?di(t,e,n):In(e)?jn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Dn(e)?t.setAttribute(e,Vn(e,n)):Bn(e)?jn(n)?t.removeAttributeNS(qn,Ln(e)):t.setAttributeNS(qn,e,n):di(t,e,n)}function di(t,e,n){if(jn(n))t.removeAttribute(e);else{if(Y&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var mi={create:hi,update:hi};function vi(t,e){var n=e.elm,i=e.data,s=t.data;if(!(o(i.staticClass)&&o(i.class)&&(o(s)||o(s.staticClass)&&o(s.class)))){var a=Un(e),u=n._transitionClasses;r(u)&&(a=Gn(a,Hn(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var yi,gi={create:vi,update:vi},_i="__r",Ti="__c";function bi(t,e,n){var i=yi;return function o(){null!==e.apply(null,arguments)&&Si(t,o,n,i)}}var xi=Wt&&!(tt&&Number(tt[1])<=53);function wi(t,e,n,i){if(xi){var o=cn,r=e;e=r._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||0===t.timeStamp||t.target.ownerDocument!==document)return r.apply(this,arguments)}}yi.addEventListener(t,e,nt?{capture:n,passive:i}:n)}function Si(t,e,n,i){(i||yi).removeEventListener(t,e._wrapper||e,n)}function Ai(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},i=t.data.on||{};yi=e.elm,function(t){if(r(t[_i])){var e=Y?"change":"input";t[e]=[].concat(t[_i],t[e]||[]),delete t[_i]}r(t[Ti])&&(t.change=[].concat(t[Ti],t.change||[]),delete t[Ti])}(n),se(n,i,wi,Si,bi,e.context),yi=void 0}}var ki,Pi={create:Ai,update:Ai};function Ci(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,i,s=e.elm,a=t.data.domProps||{},u=e.data.domProps||{};for(n in r(u.__ob__)&&(u=e.data.domProps=O({},u)),a)o(u[n])&&(s[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=i;var c=o(i)?"":String(i);Oi(s,c)&&(s.value=c)}else if("innerHTML"===n&&Xn(s.tagName)&&o(s.innerHTML)){(ki=ki||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var p=ki.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;p.firstChild;)s.appendChild(p.firstChild)}else if(i!==a[n])try{s[n]=i}catch(t){}}}}function Oi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Ei={create:Ci,update:Ci},Mi=b(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function Fi(t){var e=Ni(t.style);return t.staticStyle?O(t.staticStyle,e):e}function Ni(t){return Array.isArray(t)?E(t):"string"==typeof t?Mi(t):t}var Di,Ri=/^--/,Vi=/\s*!important$/,Ii=function(t,e,n){if(Ri.test(e))t.style.setProperty(e,n);else if(Vi.test(n))t.style.setProperty(k(e),n.replace(Vi,""),"important");else{var i=Bi(e);if(Array.isArray(n))for(var o=0,r=n.length;o<r;o++)t.style[i]=n[o];else t.style[i]=n}},qi=["Webkit","Moz","ms"],Bi=b(function(t){if(Di=Di||document.createElement("div").style,"filter"!==(t=w(t))&&t in Di)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<qi.length;n++){var i=qi[n]+e;if(i in Di)return i}});function Li(t,e){var n=e.data,i=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(i.staticStyle)&&o(i.style))){var s,a,u=e.elm,c=i.staticStyle,p=i.normalizedStyle||i.style||{},l=c||p,h=Ni(e.data.style)||{};e.data.normalizedStyle=r(h.__ob__)?O({},h):h;var f=function(t,e){var n,i={};if(e)for(var o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=Fi(o.data))&&O(i,n);(n=Fi(t.data))&&O(i,n);for(var r=t;r=r.parent;)r.data&&(n=Fi(r.data))&&O(i,n);return i}(e,!0);for(a in l)o(f[a])&&Ii(u,a,"");for(a in f)(s=f[a])!==l[a]&&Ii(u,a,null==s?"":s)}}var ji={create:Li,update:Li},Ui=/\s+/;function $i(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ui).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Gi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ui).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Hi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,zi(t.name||"v")),O(e,t),e}return"string"==typeof t?zi(t):void 0}}var zi=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Wi=z&&!Q,Xi="transition",Zi="animation",Yi="transition",Qi="transitionend",Ki="animation",Ji="animationend";Wi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Yi="WebkitTransition",Qi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ki="WebkitAnimation",Ji="webkitAnimationEnd"));var to=z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function eo(t){to(function(){to(t)})}function no(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),$i(t,e))}function io(t,e){t._transitionClasses&&g(t._transitionClasses,e),Gi(t,e)}function oo(t,e,n){var i=so(t,e),o=i.type,r=i.timeout,s=i.propCount;if(!o)return n();var a=o===Xi?Qi:Ji,u=0,c=function(){t.removeEventListener(a,p),n()},p=function(e){e.target===t&&++u>=s&&c()};setTimeout(function(){u<s&&c()},r+1),t.addEventListener(a,p)}var ro=/\b(transform|all)(,|$)/;function so(t,e){var n,i=window.getComputedStyle(t),o=(i[Yi+"Delay"]||"").split(", "),r=(i[Yi+"Duration"]||"").split(", "),s=ao(o,r),a=(i[Ki+"Delay"]||"").split(", "),u=(i[Ki+"Duration"]||"").split(", "),c=ao(a,u),p=0,l=0;return e===Xi?s>0&&(n=Xi,p=s,l=r.length):e===Zi?c>0&&(n=Zi,p=c,l=u.length):l=(n=(p=Math.max(s,c))>0?s>c?Xi:Zi:null)?n===Xi?r.length:u.length:0,{type:n,timeout:p,propCount:l,hasTransform:n===Xi&&ro.test(i[Yi+"Property"])}}function ao(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return uo(e)+uo(t[n])}))}function uo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function co(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Hi(t.data.transition);if(!o(i)&&!r(n._enterCb)&&1===n.nodeType){for(var s=i.css,a=i.type,c=i.enterClass,p=i.enterToClass,l=i.enterActiveClass,h=i.appearClass,f=i.appearToClass,d=i.appearActiveClass,v=i.beforeEnter,y=i.enter,g=i.afterEnter,_=i.enterCancelled,T=i.beforeAppear,b=i.appear,x=i.afterAppear,w=i.appearCancelled,S=i.duration,A=Qe,k=Qe.$vnode;k&&k.parent;)A=(k=k.parent).context;var P=!A._isMounted||!t.isRootInsert;if(!P||b||""===b){var C=P&&h?h:c,O=P&&d?d:l,E=P&&f?f:p,M=P&&T||v,F=P&&"function"==typeof b?b:y,N=P&&x||g,D=P&&w||_,R=m(u(S)?S.enter:S);0;var I=!1!==s&&!Q,q=ho(F),B=n._enterCb=V(function(){I&&(io(n,E),io(n,O)),B.cancelled?(I&&io(n,C),D&&D(n)):N&&N(n),n._enterCb=null});t.data.show||ae(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),F&&F(n,B)}),M&&M(n),I&&(no(n,C),no(n,O),eo(function(){io(n,C),B.cancelled||(no(n,E),q||(lo(R)?setTimeout(B,R):oo(n,a,B)))})),t.data.show&&(e&&e(),F&&F(n,B)),I||q||B()}}}function po(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Hi(t.data.transition);if(o(i)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var s=i.css,a=i.type,c=i.leaveClass,p=i.leaveToClass,l=i.leaveActiveClass,h=i.beforeLeave,f=i.leave,d=i.afterLeave,v=i.leaveCancelled,y=i.delayLeave,g=i.duration,_=!1!==s&&!Q,T=ho(f),b=m(u(g)?g.leave:g);0;var x=n._leaveCb=V(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(io(n,p),io(n,l)),x.cancelled?(_&&io(n,c),v&&v(n)):(e(),d&&d(n)),n._leaveCb=null});y?y(w):w()}function w(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),_&&(no(n,c),no(n,l),eo(function(){io(n,c),x.cancelled||(no(n,p),T||(lo(b)?setTimeout(x,b):oo(n,a,x)))})),f&&f(n,x),_||T||x())}}function lo(t){return"number"==typeof t&&!isNaN(t)}function ho(t){if(o(t))return!1;var e=t.fns;return r(e)?ho(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function fo(t,e){!0!==e.data.show&&co(e)}var mo=function(t){var e,n,i={},u=t.modules,c=t.nodeOps;for(e=0;e<ni.length;++e)for(i[ni[e]]=[],n=0;n<u.length;++n)r(u[n][ni[e]])&&i[ni[e]].push(u[n][ni[e]]);function p(t){var e=c.parentNode(t);r(e)&&c.removeChild(e,t)}function l(t,e,n,o,a,u,p){if(r(t.elm)&&r(u)&&(t=u[p]=_t(t)),t.isRootInsert=!a,!function(t,e,n,o){var a=t.data;if(r(a)){var u=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return h(t,e),f(n,t.elm,o),s(u)&&function(t,e,n,o){for(var s,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<i.activate.length;++s)i.activate[s](ei,a);e.push(a);break}f(n,t.elm,o)}(t,e,n,o),!0}}(t,e,n,o)){var l=t.data,m=t.children,v=t.tag;r(v)?(t.elm=t.ns?c.createElementNS(t.ns,v):c.createElement(v,t),g(t),d(t,m,e),r(l)&&y(t,e),f(n,t.elm,o)):s(t.isComment)?(t.elm=c.createComment(t.text),f(n,t.elm,o)):(t.elm=c.createTextNode(t.text),f(n,t.elm,o))}}function h(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(y(t,e),g(t)):(ti(t),e.push(t))}function f(t,e,n){r(t)&&(r(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)l(e[i],n,t.elm,null,!0,e,i);else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function y(t,n){for(var o=0;o<i.create.length;++o)i.create[o](ei,t);r(e=t.data.hook)&&(r(e.create)&&e.create(ei,t),r(e.insert)&&n.push(t))}function g(t){var e;if(r(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;r(e=Qe)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function _(t,e,n,i,o,r){for(;i<=o;++i)l(n[i],r,t,e,!1,n,i)}function T(t){var e,n,o=t.data;if(r(o))for(r(e=o.hook)&&r(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function b(t,e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(x(o),T(o)):p(o.elm))}}function x(t,e){if(r(e)||r(t.data)){var n,o=i.remove.length+1;for(r(e)?e.listeners+=o:e=function(t,e){function n(){0==--n.listeners&&p(t)}return n.listeners=e,n}(t.elm,o),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&x(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else p(t.elm)}function w(t,e,n,i){for(var o=n;o<i;o++){var s=e[o];if(r(s)&&ii(t,s))return o}}function S(t,e,n,a,u,p){if(t!==e){r(e.elm)&&r(a)&&(e=a[u]=_t(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?P(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;r(d)&&r(f=d.hook)&&r(f=f.prepatch)&&f(t,e);var v=t.children,y=e.children;if(r(d)&&m(e)){for(f=0;f<i.update.length;++f)i.update[f](t,e);r(f=d.hook)&&r(f=f.update)&&f(t,e)}o(e.text)?r(v)&&r(y)?v!==y&&function(t,e,n,i,s){for(var a,u,p,h=0,f=0,d=e.length-1,m=e[0],v=e[d],y=n.length-1,g=n[0],T=n[y],x=!s;h<=d&&f<=y;)o(m)?m=e[++h]:o(v)?v=e[--d]:ii(m,g)?(S(m,g,i,n,f),m=e[++h],g=n[++f]):ii(v,T)?(S(v,T,i,n,y),v=e[--d],T=n[--y]):ii(m,T)?(S(m,T,i,n,y),x&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=e[++h],T=n[--y]):ii(v,g)?(S(v,g,i,n,f),x&&c.insertBefore(t,v.elm,m.elm),v=e[--d],g=n[++f]):(o(a)&&(a=oi(e,h,d)),o(u=r(g.key)?a[g.key]:w(g,e,h,d))?l(g,i,t,m.elm,!1,n,f):ii(p=e[u],g)?(S(p,g,i,n,f),e[u]=void 0,x&&c.insertBefore(t,p.elm,m.elm)):l(g,i,t,m.elm,!1,n,f),g=n[++f]);h>d?_(t,o(n[y+1])?null:n[y+1].elm,n,f,y,i):f>y&&b(0,e,h,d)}(h,v,y,n,p):r(y)?(r(t.text)&&c.setTextContent(h,""),_(h,null,y,0,y.length-1,n)):r(v)?b(0,v,0,v.length-1):r(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),r(d)&&r(f=d.hook)&&r(f=f.postpatch)&&f(t,e)}}}function A(t,e,n){if(s(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var k=v("attrs,class,staticClass,staticStyle,key");function P(t,e,n,i){var o,a=e.tag,u=e.data,c=e.children;if(i=i||u&&u.pre,e.elm=t,s(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(o=u.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return h(e,n),!0;if(r(a)){if(r(c))if(t.hasChildNodes())if(r(o=u)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var p=!0,l=t.firstChild,f=0;f<c.length;f++){if(!l||!P(l,c[f],n,i)){p=!1;break}l=l.nextSibling}if(!p||l)return!1}else d(e,c,n);if(r(u)){var m=!1;for(var v in u)if(!k(v)){m=!0,y(e,n);break}!m&&u.class&&ie(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!o(e)){var u,p=!1,h=[];if(o(t))p=!0,l(e,h);else{var f=r(t.nodeType);if(!f&&ii(t,e))S(t,e,h,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(I)&&(t.removeAttribute(I),n=!0),s(n)&&P(t,e,h))return A(e,h,!0),t;u=t,t=new mt(c.tagName(u).toLowerCase(),{},[],void 0,u)}var d=t.elm,v=c.parentNode(d);if(l(e,h,d._leaveCb?null:v,c.nextSibling(d)),r(e.parent))for(var y=e.parent,g=m(e);y;){for(var _=0;_<i.destroy.length;++_)i.destroy[_](y);if(y.elm=e.elm,g){for(var x=0;x<i.create.length;++x)i.create[x](ei,y);var w=y.data.hook.insert;if(w.merged)for(var k=1;k<w.fns.length;k++)w.fns[k]()}else ti(y);y=y.parent}r(v)?b(0,[t],0,0):r(t.tag)&&T(t)}}return A(e,h,p),e.elm}r(t)&&T(t)}}({nodeOps:Kn,modules:[mi,gi,Pi,Ei,ji,z?{create:fo,activate:fo,remove:function(t,e){!0!==t.data.show?po(t,e):e()}}:{}].concat(li)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&wo(t,"input")});var vo={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ae(n,"postpatch",function(){vo.componentUpdated(t,e,n)}):yo(t,e,n.context),t._vOptions=[].map.call(t.options,To)):("textarea"===n.tag||Qn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",bo),t.addEventListener("compositionend",xo),t.addEventListener("change",xo),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){yo(t,e,n.context);var i=t._vOptions,o=t._vOptions=[].map.call(t.options,To);if(o.some(function(t,e){return!D(t,i[e])}))(t.multiple?e.value.some(function(t){return _o(t,o)}):e.value!==e.oldValue&&_o(e.value,o))&&wo(t,"change")}}};function yo(t,e,n){go(t,e,n),(Y||K)&&setTimeout(function(){go(t,e,n)},0)}function go(t,e,n){var i=e.value,o=t.multiple;if(!o||Array.isArray(i)){for(var r,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],o)r=R(i,To(s))>-1,s.selected!==r&&(s.selected=r);else if(D(To(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function _o(t,e){return e.every(function(e){return!D(e,t)})}function To(t){return"_value"in t?t._value:t.value}function bo(t){t.target.composing=!0}function xo(t){t.target.composing&&(t.target.composing=!1,wo(t.target,"input"))}function wo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function So(t){return!t.componentInstance||t.data&&t.data.transition?t:So(t.componentInstance._vnode)}var Ao={model:vo,show:{bind:function(t,e,n){var i=e.value,o=(n=So(n)).data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&o?(n.data.show=!0,co(n,function(){t.style.display=r})):t.style.display=i?r:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=So(n)).data&&n.data.transition?(n.data.show=!0,i?co(n,function(){t.style.display=t.__vOriginalDisplay}):po(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,o){o||(t.style.display=t.__vOriginalDisplay)}}},ko={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Po(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Po(ze(e.children)):t}function Co(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var o=n._parentListeners;for(var r in o)e[w(r)]=o[r];return e}function Oo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Eo=function(t){return t.tag||He(t)},Mo=function(t){return"show"===t.name},Fo={name:"transition",props:ko,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Eo)).length){0;var i=this.mode;0;var o=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var r=Po(o);if(!r)return o;if(this._leaving)return Oo(t,o);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:a(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var u=(r.data||(r.data={})).transition=Co(this),c=this._vnode,p=Po(c);if(r.data.directives&&r.data.directives.some(Mo)&&(r.data.show=!0),p&&p.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(r,p)&&!He(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var l=p.data.transition=O({},u);if("out-in"===i)return this._leaving=!0,ae(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Oo(t,o);if("in-out"===i){if(He(r))return c;var h,f=function(){h()};ae(u,"afterEnter",f),ae(u,"enterCancelled",f),ae(l,"delayLeave",function(t){h=t})}}return o}}},No=O({tag:String,moveClass:String},ko);function Do(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ro(t){t.data.newPos=t.elm.getBoundingClientRect()}function Vo(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,o=e.top-n.top;if(i||o){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+i+"px,"+o+"px)",r.transitionDuration="0s"}}delete No.mode;var Io={Transition:Fo,TransitionGroup:{props:No,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var o=Ke(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],r=this.children=[],s=Co(this),a=0;a<o.length;a++){var u=o[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))r.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(i){for(var c=[],p=[],l=0;l<i.length;l++){var h=i[l];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):p.push(h)}this.kept=t(e,null,c),this.removed=p}return t(e,null,r)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Do),t.forEach(Ro),t.forEach(Vo),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;no(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Qi,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Qi,t),n._moveCb=null,io(n,e))})}}))},methods:{hasMove:function(t,e){if(!Wi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Gi(n,t)}),$i(n,e),n.style.display="none",this.$el.appendChild(n);var i=so(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Sn.config.mustUseProp=function(t,e,n){return"value"===n&&Nn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Sn.config.isReservedTag=Zn,Sn.config.isReservedAttr=Fn,Sn.config.getTagNamespace=function(t){return Xn(t)?"svg":"math"===t?"math":void 0},Sn.config.isUnknownElement=function(t){if(!z)return!0;if(Zn(t))return!1;if(t=t.toLowerCase(),null!=Yn[t])return Yn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Yn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yn[t]=/HTMLUnknownElement/.test(e.toString())},O(Sn.options.directives,Ao),O(Sn.options.components,Io),Sn.prototype.__patch__=z?mo:M,Sn.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=yt),en(t,"beforeMount"),i=function(){t._update(t._render(),n)},new fn(t,i,M,{before:function(){t._isMounted&&!t._isDestroyed&&en(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,en(t,"mounted")),t}(this,t=t&&z?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},z&&setTimeout(function(){L.devtools&&rt&&rt.emit("init",Sn)},0),e.a=Sn}).call(this,n(1),n(5).setImmediate)},function(t,e,n){var i,o;/*! p5.js v0.7.2 September 02, 2018 */i=[n(0)],void 0===(o=function(t){!function(t){function e(e){var n=document;return"string"==typeof e&&"#"===e[0]?(e=e.slice(1),n=document.getElementById(e)||document):e instanceof t.Element?n=e.elt:e instanceof HTMLElement&&(n=e),n}function n(e,n,i){(n._userNode?n._userNode:document.body).appendChild(e);var o=i?new t.MediaElement(e,n):new t.Element(e,n);return n._elements.push(o),o}function i(t,e,i,o){var r=document.createElement(e);"string"==typeof(i=i||"")&&(i=[i]);for(var s=0;s<i.length;s++){var a=document.createElement("source");a.src=i[s],r.appendChild(a)}if(void 0!==o){var u=function(){o(),r.removeEventListener("canplaythrough",u)};r.addEventListener("canplaythrough",u)}var c=n(r,t,!0);return c.loadedmetadata=!1,r.addEventListener("loadedmetadata",function(){c.width=r.videoWidth,c.height=r.videoHeight,0===c.elt.width&&(c.elt.width=r.videoWidth),0===c.elt.height&&(c.elt.height=r.videoHeight),c.presetPlaybackRate&&(c.elt.playbackRate=c.presetPlaybackRate,delete c.presetPlaybackRate),c.loadedmetadata=!0}),c}t.prototype.select=function(n,i){t._validateParameters("select",arguments);var o=null,r=e(i);return"."===n[0]?(n=n.slice(1),o=(o=r.getElementsByClassName(n)).length?o[0]:null):"#"===n[0]?(n=n.slice(1),o=r.getElementById(n)):o=(o=r.getElementsByTagName(n)).length?o[0]:null,o?this._wrapElement(o):null},t.prototype.selectAll=function(n,i){t._validateParameters("selectAll",arguments);var o,r=[],s=e(i);if("."===n[0]?(n=n.slice(1),o=s.getElementsByClassName(n)):o=s.getElementsByTagName(n),o)for(var a=0;a<o.length;a++){var u=this._wrapElement(o[a]);r.push(u)}return r},t.prototype._wrapElement=function(e){var n=Array.prototype.slice.call(e.children);if("INPUT"===e.tagName&&"checkbox"===e.type){var i=new t.Element(e,this);return i.checked=function(){return 0===arguments.length?this.elt.checked:(arguments[0]?this.elt.checked=!0:this.elt.checked=!1,this)},i}return"VIDEO"===e.tagName||"AUDIO"===e.tagName?new t.MediaElement(e,this):"SELECT"===e.tagName?this.createSelect(new t.Element(e,this)):n.length>0&&n.every(function(t){return"INPUT"===t.tagName||"LABEL"===t.tagName})?this.createRadio(new t.Element(e,this)):new t.Element(e,this)},t.prototype.removeElements=function(e){t._validateParameters("removeElements",arguments);for(var n=0;n<this._elements.length;n++)this._elements[n].elt instanceof HTMLCanvasElement||this._elements[n].remove()},["div","p","span"].forEach(function(e){var i="create"+e.charAt(0).toUpperCase()+e.slice(1);t.prototype[i]=function(t){var i=document.createElement(e);return i.innerHTML=void 0===t?"":t,n(i,this)}}),t.prototype.createImg=function(){t._validateParameters("createImg",arguments);var e,i=document.createElement("img"),o=arguments;return i.src=o[0],o.length>1&&"string"==typeof o[1]&&(i.alt=o[1]),i.onload=function(){e.width=i.offsetWidth||i.width,e.height=i.offsetHeight||i.height,o.length>1&&"function"==typeof o[1]?(e.fn=o[1],e.fn()):o.length>1&&"function"==typeof o[2]&&(e.fn=o[2],e.fn())},e=n(i,this)},t.prototype.createA=function(e,i,o){t._validateParameters("createA",arguments);var r=document.createElement("a");return r.href=e,r.innerHTML=i,o&&(r.target=o),n(r,this)},t.prototype.createSlider=function(e,i,o,r){t._validateParameters("createSlider",arguments);var s=document.createElement("input");return s.type="range",s.min=e,s.max=i,0===r?s.step=1e-18:r&&(s.step=r),"number"==typeof o&&(s.value=o),n(s,this)},t.prototype.createButton=function(e,i){t._validateParameters("createButton",arguments);var o=document.createElement("button");return o.innerHTML=e,i&&(o.value=i),n(o,this)},t.prototype.createCheckbox=function(){t._validateParameters("createCheckbox",arguments);var e=document.createElement("div"),i=document.createElement("input");i.type="checkbox",e.appendChild(i);var o=n(e,this);if(o.checked=function(){var t=o.elt.getElementsByTagName("input")[0];if(t){if(0===arguments.length)return t.checked;arguments[0]?t.checked=!0:t.checked=!1}return o},this.value=function(t){return o.value=t,this},arguments[0]){var r=Math.random().toString(36).slice(2),s=document.createElement("label");i.setAttribute("id",r),s.htmlFor=r,o.value(arguments[0]),s.appendChild(document.createTextNode(arguments[0])),e.appendChild(s)}return arguments[1]&&(i.checked=!0),o},t.prototype.createSelect=function(){t._validateParameters("createSelect",arguments);var e,i,o=arguments[0];return"object"==typeof o&&"SELECT"===o.elt.nodeName?(i=o,e=this.elt=o.elt):(e=document.createElement("select"),o&&"boolean"==typeof o&&e.setAttribute("multiple","true"),i=n(e,this)),i.option=function(t,n){for(var i,o=0;o<this.elt.length;o++)if(this.elt[o].innerHTML===t){i=o;break}if(void 0!==i)!1===n?this.elt.remove(i):this.elt[i].innerHTML===this.elt[i].value?this.elt[i].innerHTML=this.elt[i].value=n:this.elt[i].value=n;else{var r=document.createElement("option");r.innerHTML=t,arguments.length>1?r.value=n:r.value=t,e.appendChild(r)}},i.selected=function(t){var e,n=[];if(arguments.length>0){for(e=0;e<this.elt.length;e++)t.toString()===this.elt[e].value&&(this.elt.selectedIndex=e);return this}if(this.elt.getAttribute("multiple")){for(e=0;e<this.elt.selectedOptions.length;e++)n.push(this.elt.selectedOptions[e].value);return n}return this.elt.value},i},t.prototype.createRadio=function(e){t._validateParameters("createRadio",arguments);var i,o,r=document.querySelectorAll("input[type=radio]"),s=0;if(r.length>1){var a=r.length,u=r[0].name,c=r[1].name;s=1;for(var p=1;p<a;p++)c=r[p].name,u!==c&&s++,u=c}else 1===r.length&&(s=1);"object"==typeof e?(o=e,i=this.elt=e.elt):(i=document.createElement("div"),o=n(i,this)),o._getInputChildrenArray=function(){return Array.prototype.slice.call(this.elt.children).filter(function(t){return"INPUT"===t.tagName})};var l=-1;return o.option=function(t,e){var n=document.createElement("input");if(n.type="radio",n.innerHTML=t,n.value=e||t,n.setAttribute("name","defaultradio"+s),i.appendChild(n),t){l++;var o=document.createElement("label");n.setAttribute("id","defaultradio"+s+"-"+l),o.htmlFor="defaultradio"+s+"-"+l,o.appendChild(document.createTextNode(t)),i.appendChild(o)}return n},o.selected=function(t){var e,n=o._getInputChildrenArray();if(t){for(e=0;e<n.length;e++)n[e].value===t&&(n[e].checked=!0);return this}for(e=0;e<n.length;e++)if(!0===n[e].checked)return n[e].value},o.value=function(t){var e,n=o._getInputChildrenArray();if(t){for(e=0;e<n.length;e++)n[e].value===t&&(n[e].checked=!0);return this}for(e=0;e<n.length;e++)if(!0===n[e].checked)return n[e].value;return""},o},t.prototype.createColorPicker=function(e){t._validateParameters("createColorPicker",arguments);var i,o=document.createElement("input");return o.type="color",e?e instanceof t.Color?o.value=e.toString("#rrggbb"):(t.prototype._colorMode="rgb",t.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},o.value=t.prototype.color(e).toString("#rrggbb")):o.value="#000000",(i=n(o,this)).color=function(){return e.mode&&(t.prototype._colorMode=e.mode),e.maxes&&(t.prototype._colorMaxes=e.maxes),t.prototype.color(this.elt.value)},i},t.prototype.createInput=function(e,i){t._validateParameters("createInput",arguments);var o=document.createElement("input");return o.type=i||"text",e&&(o.value=e),n(o,this)},t.prototype.createFileInput=function(e,i){if(t._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var o=document.createElement("input");return o.type="file",i&&(o.multiple="multiple"),o.addEventListener("change",function(n){function i(n){var i=new t.File(n);return function(t){i.data=t.target.result,e(i)}}for(var o=n.target.files,r=0;r<o.length;r++){var s=o[r],a=new FileReader;a.onload=i(s),s.type.indexOf("text")>-1?a.readAsText(s):a.readAsDataURL(s)}},!1),n(o,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.prototype.createVideo=function(e,n){return t._validateParameters("createVideo",arguments),i(this,"video",e,n)},t.prototype.createAudio=function(e,n){return t._validateParameters("createAudio",arguments),i(this,"audio",e,n)},t.prototype.VIDEO="video",t.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise(function(n,i){e.call(navigator,t,n,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.prototype.createCapture=function(){t._validateParameters("createCapture",arguments);for(var e,i,o=!0,r=!0,s=0;s<arguments.length;s++)arguments[s]===t.prototype.VIDEO?r=!1:arguments[s]===t.prototype.AUDIO?o=!1:"object"==typeof arguments[s]?e=arguments[s]:"function"==typeof arguments[s]&&(i=arguments[s]);if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw"getUserMedia not supported in this browser";var a=document.createElement("video");a.setAttribute("playsinline",""),e||(e={video:o,audio:r}),navigator.mediaDevices.getUserMedia(e).then(function(t){try{"srcObject"in a?a.srcObject=t:a.src=window.URL.createObjectURL(t)}catch(e){a.src=t}i&&i(t)},function(t){console.log(t)});var u=n(a,this,!0);return u.loadedmetadata=!1,a.addEventListener("loadedmetadata",function(){a.play(),a.width?(u.width=a.videoWidth=a.width,u.height=a.videoHeight=a.height):(u.width=u.elt.width=a.videoWidth,u.height=u.elt.height=a.videoHeight),u.loadedmetadata=!0}),u},t.prototype.createElement=function(e,i){t._validateParameters("createElement",arguments);var o=document.createElement(e);return void 0!==i&&(o.innerHTML=i),n(o,this)},t.Element.prototype.addClass=function(t){return this.elt.className?this.elt.className=this.elt.className+" "+t:this.elt.className=t,this},t.Element.prototype.removeClass=function(t){var e=new RegExp("(?:^|\\s)"+t+"(?!\\S)");return this.elt.className=this.elt.className.replace(e,""),this.elt.className=this.elt.className.replace(/^\s+|\s+$/g,""),this},t.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof t.Element&&(e=e.elt),this.elt.appendChild(e),this)},t.Element.prototype.center=function(t){var e=this.elt.style.display,n="none"===this.elt.style.display,i="none"===this.parent().style.display,o={x:this.elt.offsetLeft,y:this.elt.offsetTop};n&&this.show(),this.elt.style.display="block",this.position(0,0),i&&(this.parent().style.display="block");var r=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),s=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight),a=o.y,u=o.x;return"both"===t||void 0===t?this.position(r/2,s/2):"horizontal"===t?this.position(r/2,a):"vertical"===t&&this.position(u,s/2),this.style("display",e),n&&this.hide(),i&&(this.parent().style.display="none"),this},t.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:arguments[1]?(this.elt.innerHTML+=arguments[0],this):(this.elt.innerHTML=arguments[0],this)},t.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="absolute",this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},t.Element.prototype._translate=function(){this.elt.style.position="absolute";var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":arguments.length>2&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",3===arguments.length?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=arguments[3]+"px"),this.elt.style.transform+=t,this},t.Element.prototype._rotate=function(){var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=t,this},t.Element.prototype.style=function(e,n){if(n instanceof t.Color&&(n="rgba("+n.levels[0]+","+n.levels[1]+","+n.levels[2]+","+n.levels[3]/255+")"),void 0===n){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var i=e.split(";"),o=0;o<i.length;o++){var r=i[o].split(":");r[0]&&r[1]&&(this.elt.style[r[0].trim()]=r[1].trim())}}else if("rotate"===e||"translate"===e||"position"===e){var s=Array.prototype.shift.apply(arguments),a=this[s]||this["_"+s];a.apply(this,arguments)}else if(this.elt.style[e]=n,"width"===e||"height"===e||"left"===e||"top"===e){var u=n.replace(/\D+/g,"");this[e]=parseInt(u,10)}return this},t.Element.prototype.attribute=function(t,e){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===e?this.elt.getAttribute(t):(this.elt.setAttribute(t,e),this);if(void 0===e)return this.elt.firstChild.getAttribute(t);for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(t,e)},t.Element.prototype.removeAttribute=function(t){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var e=0;e<this.elt.childNodes.length;e++)this.elt.childNodes[e].removeAttribute(t);return this.elt.removeAttribute(t),this},t.Element.prototype.value=function(){return arguments.length>0?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},t.Element.prototype.show=function(){return this.elt.style.display="block",this},t.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.Element.prototype.size=function(e,n){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=e,o=n,r=t.prototype.AUTO;if(i!==r||o!==r){if(i===r?i=n*this.width/this.height:o===r&&(o=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var s,a={},u=this.elt.getContext("2d");for(s in u)a[s]=u[s];for(s in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",o*this._pInst._pixelDensity),this.elt.setAttribute("style","width:"+i+"px; height:"+o+"px"),this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),a)this.elt.getContext("2d")[s]=a[s]}else this.elt.style.width=i+"px",this.elt.style.height=o+"px",this.elt.width=i,this.elt.height=o,this.width=i,this.height=o;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.Element.prototype.remove=function(){for(var t in this._events)this.elt.removeEventListener(t,this._events[t]);this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.MediaElement=function(e,n){t.Element.call(this,e,n);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this._pixelDensity=1,this._modified=!1,this._pixelsDirty=!0,this._pixelsTime=-1,Object.defineProperty(i,"src",{get:function(){var t=i.elt.children[0].src,e=i.elt.src===window.location.href?"":i.elt.src;return t===window.location.href?e:t},set:function(t){for(var n=0;n<i.elt.children.length;n++)i.elt.removeChild(i.elt.children[n]);var o=document.createElement("source");o.src=t,e.appendChild(o),i.elt.src=t,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},t.MediaElement.prototype=Object.create(t.Element.prototype),t.MediaElement.prototype.play=function(){var t;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.readyState>1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&&t.catch&&t.catch(function(t){console.log("WARN: Element play method raised an error asynchronously",t)}),this},t.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.MediaElement.prototype.noLoop=function(){return this.elt.setAttribute("loop",!1),this},t.MediaElement.prototype.autoplay=function(t){return this.elt.setAttribute("autoplay",t),this},t.MediaElement.prototype.volume=function(t){if(void 0===t)return this.elt.volume;this.elt.volume=t},t.MediaElement.prototype.speed=function(t){if(void 0===t)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t},t.MediaElement.prototype.time=function(t){return void 0===t?this.elt.currentTime:(this.elt.currentTime=t,this)},t.MediaElement.prototype.duration=function(){return this.elt.duration},t.MediaElement.prototype.pixels=[],t.MediaElement.prototype._ensureCanvas=function(){this.canvas||this.loadPixels()},t.MediaElement.prototype.loadPixels=function(){if(this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d")),this.loadedmetadata){this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height,this._pixelsDirty=!0);var e=this.elt.currentTime;(this._pixelsDirty||this._pixelsTime!==e)&&(this._pixelsTime=e,this._pixelsDirty=!0,this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),t.Renderer2D.prototype.loadPixels.call(this))}return this.setModified(!0),this},t.MediaElement.prototype.updatePixels=function(e,n,i,o){return this.loadedmetadata&&(this._ensureCanvas(),t.Renderer2D.prototype.updatePixels.call(this,e,n,i,o)),this.setModified(!0),this},t.MediaElement.prototype.get=function(e,n,i,o){if(this.loadedmetadata){var r=this.elt.currentTime;return this._pixelsTime!==r?this.loadPixels():this._ensureCanvas(),t.Renderer2D.prototype.get.call(this,e,n,i,o)}return void 0===e?new t.Image(1,1):i>1?new t.Image(e,n,i,o):[0,0,0,255]},t.MediaElement.prototype.set=function(e,n,i){this.loadedmetadata&&(this._ensureCanvas(),t.Renderer2D.prototype.set.call(this,e,n,i),this.setModified(!0))},t.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.Renderer2D.prototype.copy.apply(this,arguments)},t.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.Image.prototype.mask.apply(this,arguments)},t.MediaElement.prototype.isModified=function(){return this._modified},t.MediaElement.prototype.setModified=function(t){this._modified=t},t.MediaElement.prototype.onended=function(t){return this._onended=t,this},t.MediaElement.prototype.connect=function(e){var n,i;if("function"==typeof t.prototype.getAudioContext)n=t.prototype.getAudioContext(),i=t.soundOut.input;else try{n=e.context,i=n.destination}catch(t){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=n.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),e?e.input?this.audioSourceNode.connect(e.input):this.audioSourceNode.connect(e):this.audioSourceNode.connect(i)},t.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};var o=function(t,e,n,i){this.callback=t,this.time=e,this.id=n,this.val=i};t.MediaElement.prototype.addCue=function(t,e,n){var i=this._cueIDCounter++,r=new o(e,t,i,n);return this._cues.push(r),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i},t.MediaElement.prototype.removeCue=function(t){for(var e=0;e<this._cues.length;e++)this._cues[e].id===t&&(console.log(t),this._cues.splice(e,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},t.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.MediaElement.prototype._onTimeUpdate=function(){for(var t=this.time(),e=0;e<this._cues.length;e++){var n=this._cues[e].time,i=this._cues[e].val;this._prevTime<n&&n<=t&&this._cues[e].callback(i)}this._prevTime=t},t.File=function(t,e){this.file=t,this._pInst=e;var n=t.type.split("/");this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}}(t)}.apply(e,i))||(t.exports=o)},function(t,e,n){var i,o;/*! p5.sound.min.js v0.3.8 2018-06-15 */i=[n(0)],void 0===(o=function(t){!function(t){var e,n,i,o,r,s,a,u,c,p,l,h,f,d,m;(function(){!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createScriptProcessor&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var n=e?this.internal_createDelay(e):this.internal_createDelay();return t(n.delayTime),n},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,n,i){void 0!==i?e.internal_start(t||0,n,i):e.internal_start(t||0,n||0)}):e.start=function(t,e,n){e||n?this.noteGrainOn(t||0,e,n):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},"function"!=typeof AudioContext.prototype.createOscillator&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)}(window),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var e=document.createElement("audio");t.prototype.isSupported=function(){return!!e.canPlayType},t.prototype.isFileSupported=function(t){switch(t.toLowerCase()){case"mp3":return!!e.canPlayType&&e.canPlayType("audio/mpeg;");case"wav":return!!e.canPlayType&&e.canPlayType('audio/wav; codecs="1"');case"ogg":return!!e.canPlayType&&e.canPlayType('audio/ogg; codecs="vorbis"');case"aac":case"m4a":case"mp4":return!!e.canPlayType&&(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;"));case"aif":case"aiff":return!!e.canPlayType&&e.canPlayType("audio/x-aiff;");default:return!1}}})(),function(){var e=new window.AudioContext;t.prototype.getAudioContext=function(){return e};var n=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);if(n){var i=!1,o=function(){if(!i){var t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.start(0),console.log("start ios!"),"running"===e.state&&(i=!0)}};document.addEventListener("touchend",o,!1),document.addEventListener("touchstart",o,!1)}}(),e=function(){var e=new function(){var e=t.prototype.getAudioContext();this.input=e.createGain(),this.output=e.createGain(),this.limiter=e.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=20,this.audiocontext=e,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=e.createGain(),this.fftMeter=e.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]};return t.prototype.getMasterVolume=function(){return e.output.gain.value},t.prototype.masterVolume=function(t,n,i){if("number"==typeof t){var n=n||0,i=i||0,o=e.audiocontext.currentTime,r=e.output.gain.value;e.output.gain.cancelScheduledValues(o+i),e.output.gain.linearRampToValueAtTime(r,o+i),e.output.gain.linearRampToValueAtTime(t,o+i+n)}else{if(!t)return e.output.gain;t.connect(e.output.gain)}},t.prototype.soundOut=t.soundOut=e,t.soundOut._silentNode=e.audiocontext.createGain(),t.soundOut._silentNode.gain.value=0,t.soundOut._silentNode.connect(e.audiocontext.destination),e}(),n=function(){var n=e;t.prototype.sampleRate=function(){return n.audiocontext.sampleRate},t.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2),n=Math.round(12*e)+69;return n};var i=t.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)};return noteToFreq=function(t){if("string"!=typeof t)return t;var e={A:21,B:23,C:24,D:26,E:28,F:29,G:31}[t[0].toUpperCase()],n=~~t.slice(-1);switch(e+=12*(n-1),t[1]){case"#":e+=1;break;case"b":e-=1}return i(e)},t.prototype.soundFormats=function(){n.extensions=[];for(var t=0;t<arguments.length;t++){if(arguments[t]=arguments[t].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[t])>-1))throw arguments[t]+" is not a valid sound format!";n.extensions.push(arguments[t])}},t.prototype.disposeSound=function(){for(var t=0;t<n.soundArray.length;t++)n.soundArray[t].dispose()},t.prototype.registerMethod("remove",t.prototype.disposeSound),t.prototype._checkFileFormats=function(e){var i;if("string"==typeof e){var o=(i=e).split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(o)>-1)if(t.prototype.isFileSupported(o))i=i;else for(var r=i.split("."),s=r[r.length-1],a=0;a<n.extensions.length;a++){var u=n.extensions[a],c=t.prototype.isFileSupported(u);if(c){s="",2===r.length&&(s+=r[0]);for(var a=1;a<=r.length-2;a++){var p=r[a];s+="."+p}i=s+=".",i=i+=u;break}}else for(var a=0;a<n.extensions.length;a++){var u=n.extensions[a],c=t.prototype.isFileSupported(u);if(c){i=i+"."+u;break}}}else if("object"==typeof e)for(var a=0;a<e.length;a++){var u=e[a].split(".").pop(),c=t.prototype.isFileSupported(u);if(c){i=e[a];break}}return i},t.prototype._mathChain=function(t,e,n,i,o){for(var r in t.mathOps)t.mathOps[r]instanceof o&&(t.mathOps[r].dispose(),(n=r)<t.mathOps.length-1&&(i=t.mathOps[r+1]));return t.mathOps[n-1].disconnect(),t.mathOps[n-1].connect(e),e.connect(i),t.mathOps[n]=e,t},{midiToFreq:i,noteToFreq:noteToFreq}}(),i=function(t,e,n){var i,o=new Error;o.name=t,o.originalStack=o.stack+e,i=o.stack+e,o.failedPath=n;var r=i.split("\n");return r=r.filter(function(t){return!t.match(/(p5.|native code|globalInit)/g)}),o.stack=r.join("\n"),o},function(){var n=e,i=n.audiocontext;void 0!==i.createStereoPanner?(t.Panner=function(t,e){this.stereoPanner=this.input=i.createStereoPanner(),t.connect(this.stereoPanner),this.stereoPanner.connect(e)},t.Panner.prototype.pan=function(t,e){var n=e||0,o=i.currentTime+n;this.stereoPanner.pan.linearRampToValueAtTime(t,o)},t.Panner.prototype.inputChannels=function(){},t.Panner.prototype.connect=function(t){this.stereoPanner.connect(t)},t.Panner.prototype.disconnect=function(){this.stereoPanner&&this.stereoPanner.disconnect()}):(t.Panner=function(t,e,n){this.input=i.createGain(),t.connect(this.input),this.left=i.createGain(),this.right=i.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",n>1?(this.splitter=i.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=i.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(e)},t.Panner.prototype.pan=function(t,e){var n=e||0,o=i.currentTime+n,r=(t+1)/2,s=Math.cos(r*Math.PI/2),a=Math.sin(r*Math.PI/2);this.left.gain.linearRampToValueAtTime(a,o),this.right.gain.linearRampToValueAtTime(s,o)},t.Panner.prototype.inputChannels=function(t){1===t?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===t&&(this.splitter=i.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},t.Panner.prototype.connect=function(t){this.output.connect(t)},t.Panner.prototype.disconnect=function(){this.output&&this.output.disconnect()})}(),function(){function o(t,e){for(var n={},i=t.length,o=0;i>o;o++){if(t[o]>e){var r=t[o],s=new h(r,o);n[o]=s,o+=6e3}o++}return n}function r(t,e){var n=[];return t.forEach(function(t){try{var i=Math.abs(60/(t.interval/e));i=a(i);var o=n.some(function(e){return e.tempo===i?e.count+=t.count:void 0});if(!o){if(isNaN(i))return;n.push({tempo:Math.round(i),count:t.count})}}catch(t){throw t}}),n}function s(t,e,n,i){for(var o=[],r=Object.keys(t).sort(),s=0;s<r.length;s++)for(var u=r[s],c=t[u],p=0;p<c.intervals.length;p++){var l=Math.round(Math.abs(60/(c.intervals[p]/n)));l=a(l),Math.abs(l-e)<i&&o.push(c.sampleIndex/n)}return o=o.filter(function(t,e,n){var i=n[e+1]-t;return i>.01||void 0})}function a(t){if(isFinite(t)&&0!==t){for(;90>t;)t*=2;for(;t>180&&t>90;)t/=2;return t}}var u=i,c=e,p=c.audiocontext,l=n.midiToFreq;t.SoundFile=function(e,n,i,o){if(void 0!==e){if("string"==typeof e||"string"==typeof e[0]){var r=t.prototype._checkFileFormats(e);this.url=r}else if("object"==typeof e&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";e.file&&(e=e.file),this.file=e}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._lastPos=0,this._counterNode=null,this._scopeNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=c.audiocontext.createGain(),this.output=c.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new t.Panner(this.output,c.input,2),(this.url||this.file)&&this.load(n,i),c.soundArray.push(this),this._whileLoading="function"==typeof o?o:function(){}},t.prototype.registerPreloadMethod("loadSound",t.prototype),t.prototype.loadSound=function(e,n,i,o){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var r=this,s=new t.SoundFile(e,function(){"function"==typeof n&&n.apply(r,arguments),"function"==typeof r._decrementPreload&&r._decrementPreload()},i,o);return s},t.SoundFile.prototype.load=function(t,e){var n=this,i=(new Error).stack;if(void 0!==this.url&&""!==this.url){var o=new XMLHttpRequest;o.addEventListener("progress",function(t){n._updateProgress(t)},!1),o.open("GET",this.url,!0),o.responseType="arraybuffer",o.onload=function(){if(200===o.status)p.decodeAudioData(o.response,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)},function(){var t=new u("decodeAudioData",i,n.url),o="AudioContext error at decodeAudioData for "+n.url;e?(t.msg=o,e(t)):console.error(o+"\n The error stack trace includes: \n"+t.stack)});else{var r=new u("loadSound",i,n.url),s="Unable to load "+n.url+". The request status was: "+o.status+" ("+o.statusText+")";e?(r.message=s,e(r)):console.error(s+"\n The error stack trace includes: \n"+r.stack)}},o.onerror=function(){var t=new u("loadSound",i,n.url),o="There was no response from the server at "+n.url+". Check the url and internet connectivity.";e?(t.message=o,e(t)):console.error(o+"\n The error stack trace includes: \n"+t.stack)},o.send()}else if(void 0!==this.file){var r=new FileReader;r.onload=function(){p.decodeAudioData(r.result,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)})},r.onerror=function(t){onerror&&onerror(t)},r.readAsArrayBuffer(this.file)}},t.SoundFile.prototype._updateProgress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*.99;this._whileLoading(e,t)}else this._whileLoading("size unknown")},t.SoundFile.prototype.isLoaded=function(){return!!this.buffer},t.SoundFile.prototype.play=function(t,e,n,i,o){if(this.output){var r,s,a=this,u=c.audiocontext.currentTime,p=t||0;if(0>p&&(p=0),p+=u,void 0!==e&&this.rate(e),void 0!==n&&this.setVolume(n),!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(p),this._counterNode.stop(p)),"untildone"!==this.mode||!this.isPlaying()){if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),i){if(!(i>=0&&i<this.buffer.duration))throw"start time out of range";r=i}else r=0;o&&(o=o<=this.buffer.duration-r?o:this.buffer.duration),this._paused?(this.bufferSourceNode.start(p,this.pauseTime,o),this._counterNode.start(p,this.pauseTime,o)):(this.bufferSourceNode.start(p,r,o),this._counterNode.start(p,r,o)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1;var l=function(){this._playing=!1,this.removeEventListener("ended",l,!1),a._onended(a),a.bufferSourceNodes.forEach(function(t,e){!1===t._playing&&a.bufferSourceNodes.splice(e)}),0===a.bufferSourceNodes.length&&(a._playing=!1)};this.bufferSourceNode.onended=l,this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,!0===this._looping&&(s=o||r-1e-15,this.bufferSourceNode.loopStart=r,this.bufferSourceNode.loopEnd=s,this._counterNode.loopStart=r,this._counterNode.loopEnd=s)}}else console.warn("SoundFile.play() called after dispose")},t.SoundFile.prototype.playMode=function(t){var e=t.toLowerCase();if("restart"===e&&this.buffer&&this.bufferSourceNode)for(var n=0;n<this.bufferSourceNodes.length-1;n++){var i=c.audiocontext.currentTime;this.bufferSourceNodes[n].stop(i)}if("restart"!==e&&"sustain"!==e&&"untildone"!==e)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=e},t.SoundFile.prototype.pause=function(t){var e=c.audiocontext.currentTime,n=t||0,i=n+e;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(i),this._counterNode.stop(i),this._paused=!0,this._playing=!1,this._pauseTime=this.currentTime()):this._pauseTime=0},t.SoundFile.prototype.loop=function(t,e,n,i,o){this._looping=!0,this.play(t,e,n,i,o)},t.SoundFile.prototype.setLoop=function(t){if(!0===t)this._looping=!0;else{if(!1!==t)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)},t.SoundFile.prototype.isLooping=function(){return!(!this.bufferSourceNode||!0!==this._looping||!0!==this.isPlaying())},t.SoundFile.prototype.isPlaying=function(){return this._playing},t.SoundFile.prototype.isPaused=function(){return this._paused},t.SoundFile.prototype.stop=function(t){var e=t||0;if("sustain"===this.mode||"untildone"===this.mode)this.stopAll(e),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var n=c.audiocontext.currentTime,i=e||0;this.pauseTime=0,this.bufferSourceNode.stop(n+i),this._counterNode.stop(n+i),this._playing=!1,this._paused=!1}},t.SoundFile.prototype.stopAll=function(t){var e=c.audiocontext.currentTime,n=t||0;if(this.buffer&&this.bufferSourceNode){for(var i=0;i<this.bufferSourceNodes.length;i++)if(void 0!==typeof this.bufferSourceNodes[i])try{this.bufferSourceNodes[i].onended=function(){},this.bufferSourceNodes[i].stop(e+n)}catch(t){}this._counterNode.stop(e+n),this._onended(this)}},t.SoundFile.prototype.setVolume=function(t,e,n){if("number"==typeof t){var i=e||0,o=n||0,r=c.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(r+o),this.output.gain.linearRampToValueAtTime(s,r+o),this.output.gain.linearRampToValueAtTime(t,r+o+i)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.SoundFile.prototype.amp=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.fade=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.getVolume=function(){return this.output.gain.value},t.SoundFile.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.SoundFile.prototype.getPan=function(){return this.panPosition},t.SoundFile.prototype.rate=function(t){var e=!1;if(void 0===t)return this.playbackRate;if(this.playbackRate=t,0===t?t=1e-13:0>t&&!this.reversed?(t=Math.abs(t),e=!0):t>0&&this.reversed&&(e=!0),this.bufferSourceNode){var n=c.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(n),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(t),n),this._counterNode.playbackRate.cancelScheduledValues(n),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(t),n)}return e&&this.reverseBuffer(),this.playbackRate},t.SoundFile.prototype.setPitch=function(t){var e=l(t)/l(60);this.rate(e)},t.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},t.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},t.SoundFile.prototype.currentTime=function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/p.sampleRate:this._lastPos/p.sampleRate},t.SoundFile.prototype.jump=function(t,e){if(0>t||t>this.buffer.duration)throw"jump time out of range";if(e>this.buffer.duration-t)throw"end time out of range";var n=t||0,i=e||void 0;this.isPlaying()&&this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,n,i)},t.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},t.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},t.SoundFile.prototype.frames=function(){return this.buffer.length},t.SoundFile.prototype.getPeaks=function(t){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(t||(t=5*window.width),this.buffer){for(var e=this.buffer,n=e.length/t,i=~~(n/10)||1,o=e.numberOfChannels,r=new Float32Array(Math.round(t)),s=0;o>s;s++)for(var a=e.getChannelData(s),u=0;t>u;u++){for(var c=~~(u*n),p=~~(c+n),l=0,h=c;p>h;h+=i){var f=a[h];f>l?l=f:-f>l&&(l=f)}(0===s||Math.abs(l)>r[u])&&(r[u]=l)}return r}},t.SoundFile.prototype.reverseBuffer=function(){if(!this.buffer)throw"SoundFile is not done loading";var t=this._lastPos/p.sampleRate,e=this.getVolume();this.setVolume(0,.001);const n=this.buffer.numberOfChannels;for(var i=0;n>i;i++)this.buffer.getChannelData(i).reverse();this.reversed=!this.reversed,t&&this.jump(this.duration()-t),this.setVolume(e,.001)},t.SoundFile.prototype.onended=function(t){return this._onended=t,this},t.SoundFile.prototype.add=function(){},t.SoundFile.prototype.dispose=function(){var t=c.audiocontext.currentTime,e=c.soundArray.indexOf(this);if(c.soundArray.splice(e,1),this.stop(t),this.buffer&&this.bufferSourceNode){for(var n=0;n<this.bufferSourceNodes.length-1;n++)if(null!==this.bufferSourceNodes[n]){this.bufferSourceNodes[n].disconnect();try{this.bufferSourceNodes[n].stop(t)}catch(t){console.warning("no buffer source node to dispose")}this.bufferSourceNodes[n]=null}if(this.isPlaying()){try{this._counterNode.stop(t)}catch(t){console.log(t)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},t.SoundFile.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.panner.connect(t.input):this.panner.connect(t):this.panner.connect(c.input)},t.SoundFile.prototype.disconnect=function(){this.panner&&this.panner.disconnect()},t.SoundFile.prototype.getLevel=function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")},t.SoundFile.prototype.setPath=function(e,n){var i=t.prototype._checkFileFormats(e);this.url=i,this.load(n)},t.SoundFile.prototype.setBuffer=function(t){var e=t.length,n=t[0].length,i=p.createBuffer(e,n,p.sampleRate);t[0]instanceof Float32Array||(t[0]=new Float32Array(t[0]));for(var o=0;e>o;o++){var r=i.getChannelData(o);r.set(t[o])}this.buffer=i,this.panner.inputChannels(e)},t.SoundFile.prototype._initCounterNode=function(){var e=this,n=p.currentTime,i=p.createBufferSource();return e._scopeNode&&(e._scopeNode.disconnect(),delete e._scopeNode.onaudioprocess,delete e._scopeNode),e._scopeNode=p.createScriptProcessor(256,1,1),i.buffer=function(t){const e=t.length,n=p.createBuffer(1,t.length,p.sampleRate),i=n.getChannelData(0);for(var o=0;e>o;o++)i[o]=o;return n}(e.buffer),i.playbackRate.setValueAtTime(e.playbackRate,n),i.connect(e._scopeNode),e._scopeNode.connect(t.soundOut._silentNode),e._scopeNode.onaudioprocess=function(t){var n=t.inputBuffer.getChannelData(0);e._lastPos=n[n.length-1]||0,e._onTimeUpdate(e._lastPos)},i},t.SoundFile.prototype._initSourceNode=function(){var t=p.createBufferSource();return t.buffer=this.buffer,t.playbackRate.value=this.playbackRate,t.connect(this.output),t},t.SoundFile.prototype.processPeaks=function(t,e,n,i){var a=this.buffer.length,u=this.buffer.sampleRate,c=this.buffer,p=[],l=e||.9,h=l,f=n||.22,d=i||200,m=new window.OfflineAudioContext(1,a,u),v=m.createBufferSource();v.buffer=c;var y=m.createBiquadFilter();y.type="lowpass",v.connect(y),y.connect(m.destination),v.start(0),m.startRendering(),m.oncomplete=function(e){var n=e.renderedBuffer,i=n.getChannelData(0);do{p=o(i,h),h-=.005}while(Object.keys(p).length<d&&h>=f);var a=function(t){for(var e=[],n=Object.keys(t).sort(),i=0;i<n.length;i++)for(var o=0;10>o;o++){var r=t[n[i]],s=t[n[i+o]];if(r&&s){var a=r.sampleIndex,u=s.sampleIndex,c=u-a;c>0&&r.intervals.push(c);var p=e.some(function(t){return t.interval===c?(t.count++,t):void 0});p||e.push({interval:c,count:1})}}return e}(p),u=r(a,n.sampleRate),c=u.sort(function(t,e){return e.count-t.count}).splice(0,5);this.tempo=c[0].tempo;var l=s(p,c[0].tempo,n.sampleRate,5);t(l)}};var h=function(t,e){this.sampleIndex=e,this.amplitude=t,this.tempos=[],this.intervals=[]},f=function(t,e,n,i){this.callback=t,this.time=e,this.id=n,this.val=i};t.SoundFile.prototype.addCue=function(t,e,n){var i=this._cueIDCounter++,o=new f(e,t,i,n);return this._cues.push(o),i},t.SoundFile.prototype.removeCue=function(t){for(var e=this._cues.length,n=0;e>n;n++){var i=this._cues[n];i.id===t&&this.cues.splice(n,1)}this._cues.length},t.SoundFile.prototype.clearCues=function(){this._cues=[]},t.SoundFile.prototype._onTimeUpdate=function(t){for(var e=t/this.buffer.sampleRate,n=this._cues.length,i=0;n>i;i++){var o=this._cues[i],r=o.time,s=o.val;this._prevTime<r&&e>=r&&o.callback(s)}this._prevTime=e}}(),function(){var n=e;t.Amplitude=function(t){this.bufferSize=2048,this.audiocontext=n.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize,2,1),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=t||0,this.volume=0,this.average=0,this.stereoVol=[0,0],this.stereoAvg=[0,0],this.stereoVolNorm=[0,0],this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this._audioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),n.meter.connect(this.processor),n.soundArray.push(this)},t.Amplitude.prototype.setInput=function(e,i){n.meter.disconnect(),i&&(this.smoothing=i),null==e?(console.log("Amplitude input source is not ready! Connecting to master output instead"),n.meter.connect(this.processor)):e instanceof t.Signal?e.output.connect(this.processor):e?(e.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):n.meter.connect(this.processor)},t.Amplitude.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):this.output.connect(t):this.output.connect(this.panner.connect(n.input))},t.Amplitude.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.Amplitude.prototype._audioProcess=function(t){for(var e=0;e<t.inputBuffer.numberOfChannels;e++){for(var n,i=t.inputBuffer.getChannelData(e),o=i.length,r=0,s=0,a=0;o>a;a++)n=i[a],this.normalize?(r+=Math.max(Math.min(n/this.volMax,1),-1),s+=Math.max(Math.min(n/this.volMax,1),-1)*Math.max(Math.min(n/this.volMax,1),-1)):(r+=n,s+=n*n);var u=r/o,c=Math.sqrt(s/o);this.stereoVol[e]=Math.max(c,this.stereoVol[e]*this.smoothing),this.stereoAvg[e]=Math.max(u,this.stereoVol[e]*this.smoothing),this.volMax=Math.max(this.stereoVol[e],this.volMax)}var p=this,l=this.stereoVol.reduce(function(t,e,n){return p.stereoVolNorm[n-1]=Math.max(Math.min(p.stereoVol[n-1]/p.volMax,1),0),p.stereoVolNorm[n]=Math.max(Math.min(p.stereoVol[n]/p.volMax,1),0),t+e});this.volume=l/this.stereoVol.length,this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},t.Amplitude.prototype.getLevel=function(t){return void 0!==t?this.normalize?this.stereoVolNorm[t]:this.stereoVol[t]:this.normalize?this.volNorm:this.volume},t.Amplitude.prototype.toggleNormalize=function(t){this.normalize="boolean"==typeof t?t:!this.normalize},t.Amplitude.prototype.smooth=function(t){t>=0&&1>t?this.smoothing=t:console.log("Error: smoothing must be between 0 and 1")},t.Amplitude.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),delete this.processor}}(),function(){var n=e;t.FFT=function(t,e){this.input=this.analyser=n.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(t){this.analyser.fftSize=2*t},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(t){this.analyser.smoothingTimeConstant=t},configurable:!0,enumerable:!0}}),this.smooth(t),this.bins=e||1024,n.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],n.soundArray.push(this)},t.FFT.prototype.setInput=function(t){t?(t.output?t.output.connect(this.analyser):t.connect&&t.connect(this.analyser),n.fftMeter.disconnect()):n.fftMeter.connect(this.analyser)},t.FFT.prototype.waveform=function(){for(var e,n,i=0;i<arguments.length;i++)"number"==typeof arguments[i]&&(e=arguments[i],this.analyser.fftSize=2*e),"string"==typeof arguments[i]&&(n=arguments[i]);if(n&&!t.prototype._isSafari())return r(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;s(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var o=new Array,a=0;a<this.timeDomain.length;a++){var u=t.prototype.map(this.timeDomain[a],0,255,-1,1);o.push(u)}return o},t.FFT.prototype.analyze=function(){for(var t,e=0;e<arguments.length;e++)"number"==typeof arguments[e]&&(this.bins=arguments[e],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[e]&&(t=arguments[e]);if(t&&"db"===t.toLowerCase())return i(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;o(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var n=Array.apply([],this.freqDomain);return n.length,this.analyser.fftSize,n.constructor,Array,n},t.FFT.prototype.getEnergy=function(t,e){var i=n.audiocontext.sampleRate/2;if("bass"===t?(t=this.bass[0],e=this.bass[1]):"lowMid"===t?(t=this.lowMid[0],e=this.lowMid[1]):"mid"===t?(t=this.mid[0],e=this.mid[1]):"highMid"===t?(t=this.highMid[0],e=this.highMid[1]):"treble"===t&&(t=this.treble[0],e=this.treble[1]),"number"!=typeof t)throw"invalid input for getEnergy()";if(e){if(t&&e){if(t>e){var o=e;e=t,t=o}for(var r=Math.round(t/i*this.freqDomain.length),s=Math.round(e/i*this.freqDomain.length),a=0,u=0,c=r;s>=c;c++)a+=this.freqDomain[c],u+=1;var p=a/u;return p}throw"invalid input for getEnergy()"}var l=Math.round(t/i*this.freqDomain.length);return this.freqDomain[l]},t.FFT.prototype.getFreq=function(t,e){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var n=this.getEnergy(t,e);return n},t.FFT.prototype.getCentroid=function(){for(var t=n.audiocontext.sampleRate/2,e=0,i=0,o=0;o<this.freqDomain.length;o++)e+=o*this.freqDomain[o],i+=this.freqDomain[o];var r=0;0!==i&&(r=e/i);var s=r*(t/this.freqDomain.length);return s},t.FFT.prototype.smooth=function(t){return void 0!==t&&(this.smoothing=t),this.smoothing},t.FFT.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.analyser&&(this.analyser.disconnect(),delete this.analyser)},t.FFT.prototype.linAverages=function(t){for(var t=t||16,e=this.freqDomain,n=e.length,i=Math.floor(n/t),o=new Array(t),r=0,s=0;n>s;s++)o[r]=void 0!==o[r]?(o[r]+e[s])/2:e[s],s%i==i-1&&r++;return o},t.FFT.prototype.logAverages=function(t){for(var e=n.audiocontext.sampleRate/2,i=this.freqDomain,o=i.length,r=new Array(t.length),s=0,a=0;o>a;a++){var u=Math.round(a*e/this.freqDomain.length);u>t[s].hi&&s++,r[s]=void 0!==r[s]?(r[s]+i[a])/2:i[a]}return r},t.FFT.prototype.getOctaveBands=function(t,e){var t=t||3,e=e||15.625,i=[],o={lo:e/Math.pow(2,1/(2*t)),ctr:e,hi:e*Math.pow(2,1/(2*t))};i.push(o);for(var r=n.audiocontext.sampleRate/2;o.hi<r;){var s={};s.lo=o.hi,s.ctr=o.ctr*Math.pow(2,1/t),s.hi=s.ctr*Math.pow(2,1/(2*t)),i.push(s),o=s}return i};var i=function(t){t.freqDomain instanceof Float32Array==0&&(t.freqDomain=new Float32Array(t.analyser.frequencyBinCount))},o=function(t){t.freqDomain instanceof Uint8Array==0&&(t.freqDomain=new Uint8Array(t.analyser.frequencyBinCount))},r=function(t){t.timeDomain instanceof Float32Array==0&&(t.timeDomain=new Float32Array(t.analyser.frequencyBinCount))},s=function(t){t.timeDomain instanceof Uint8Array==0&&(t.timeDomain=new Uint8Array(t.analyser.frequencyBinCount))}}(),function(t){"use strict";t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,i){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,i),this},t.SignalBase}(o=function(){"use strict";var t,e=function(t,e){this.isUndef(t)||1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),this.isUndef(e)||1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(t))};return e.prototype.set=function(t,n,i){if(this.isObject(t))i=n;else if(this.isString(t)){var o={};o[t]=n,t=o}t:for(var r in t){n=t[r];var s=this;if(-1!==r.indexOf(".")){for(var a=r.split("."),u=0;u<a.length-1;u++)if((s=s[a[u]])instanceof e){a.splice(0,u+1);var c=a.join(".");s.set(c,n);continue t}r=a[a.length-1]}var p=s[r];this.isUndef(p)||(e.Signal&&p instanceof e.Signal||e.Param&&p instanceof e.Param?p.value!==n&&(this.isUndef(i)?p.value=n:p.rampTo(n,i)):p instanceof AudioParam?p.value!==n&&(p.value=n):p instanceof e?p.set(n):p!==n&&(s[r]=n))}return this},e.prototype.get=function(t){this.isUndef(t)?t=this._collectDefaults(this.constructor):this.isString(t)&&(t=[t]);for(var n={},i=0;i<t.length;i++){var o=t[i],r=this,s=n;if(-1!==o.indexOf(".")){for(var a=o.split("."),u=0;u<a.length-1;u++){var c=a[u];s[c]=s[c]||{},s=s[c],r=r[c]}o=a[a.length-1]}var p=r[o];this.isObject(t[o])?s[o]=p.get():e.Signal&&p instanceof e.Signal?s[o]=p.value:e.Param&&p instanceof e.Param?s[o]=p.value:p instanceof AudioParam?s[o]=p.value:p instanceof e?s[o]=p.get():this.isFunction(p)||this.isUndef(p)||(s[o]=p)}return n},e.prototype._collectDefaults=function(t){var e=[];if(this.isUndef(t.defaults)||(e=Object.keys(t.defaults)),!this.isUndef(t._super))for(var n=this._collectDefaults(t._super),i=0;i<n.length;i++)-1===e.indexOf(n[i])&&e.push(n[i]);return e},e.prototype.toString=function(){for(var t in e){var n=t[0].match(/^[A-Z]$/),i=e[t]===this.constructor;if(this.isFunction(e[t])&&n&&i)return t}return"Tone"},Object.defineProperty(e.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(e.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),e.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},e.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},e.prototype.disconnect=function(t,e,n){this.isArray(this.output)?this.isNumber(t)?this.output[t].disconnect():(e=this.defaultArg(e,0),this.output[e].disconnect(t,0,n)):this.output.disconnect.apply(this.output,arguments)},e.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},e.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},e.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=e.prototype.chain,AudioNode.prototype.fan=e.prototype.fan,e.prototype.defaultArg=function(t,e){if(this.isObject(t)&&this.isObject(e)){var n={};for(var i in t)n[i]=this.defaultArg(e[i],t[i]);for(var o in e)n[o]=this.defaultArg(t[o],e[o]);return n}return this.isUndef(t)?e:t},e.prototype.optionsObject=function(t,e,n){var i={};if(1===t.length&&this.isObject(t[0]))i=t[0];else for(var o=0;o<e.length;o++)i[e[o]]=t[o];return this.isUndef(n)?i:this.defaultArg(i,n)},e.prototype.isUndef=function(t){return void 0===t},e.prototype.isFunction=function(t){return"function"==typeof t},e.prototype.isNumber=function(t){return"number"==typeof t},e.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},e.prototype.isBoolean=function(t){return"boolean"==typeof t},e.prototype.isArray=function(t){return Array.isArray(t)},e.prototype.isString=function(t){return"string"==typeof t},e.noOp=function(){},e.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},e.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},e.State={Started:"started",Stopped:"stopped",Paused:"paused"},e.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},e.prototype.dbToGain=function(t){return Math.pow(2,t/6)},e.prototype.gainToDb=function(t){return Math.log(t)/Math.LN10*20},e.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},e.prototype.now=function(){return e.context.now()},e.now=function(){return e.context.now()},e.extend=function(t,n){function i(){}e.prototype.isUndef(n)&&(n=e),i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t,t._super=n},Object.defineProperty(e,"context",{get:function(){return t},set:function(n){t=e.Context&&n instanceof e.Context?n:new e.Context(n),e.Context&&e.Context.emit("init",t)}}),Object.defineProperty(e.prototype,"context",{get:function(){return e.context}}),e.setContext=function(t){e.context=t},Object.defineProperty(e.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(e.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(e,"supported",{get:function(){var t=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),e=window.hasOwnProperty("Promise"),n=window.hasOwnProperty("Worker");return t&&e&&n}}),e.version="r10",window.TONE_SILENCE_VERSION_LOGGING,e}()),function(t){"use strict";t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;n>e;e++){var i=e/(n-1)*2-1;this._curve[e]=t(i,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}(o),function(t){t.TimeBase=function(e,n){if(!(this instanceof t.TimeBase))return new t.TimeBase(e,n);if(this._expr=this._noOp,e instanceof t.TimeBase)this.copy(e);else if(!this.isUndef(n)||this.isNumber(e)){n=this.defaultArg(n,this._defaultUnits);var i=this._primaryExpressions[n].method;this._expr=i.bind(this,e)}else this.isString(e)?this.set(e):this.isUndef(e)&&(this._expr=this._defaultExpr())},t.extend(t.TimeBase),t.TimeBase.prototype.set=function(t){return this._expr=this._parseExprString(t),this},t.TimeBase.prototype.clone=function(){var t=new this.constructor;return t.copy(this),t},t.TimeBase.prototype.copy=function(t){var e=t._expr();return this.set(e)},t.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(t){return 1===(t=parseInt(t))?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/t)}},t:{regexp:/^(\d+)t/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(t){return this._primaryExpressions[this._defaultUnits].method.call(this,t)}}},t.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(t,e){return t()+e()}},"-":{regexp:/^\-/,precedence:2,method:function(t,e){return t()-e()}},"*":{regexp:/^\*/,precedence:1,method:function(t,e){return t()*e()}},"/":{regexp:/^\//,precedence:1,method:function(t,e){return t()/e()}}},t.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(t){return-t()}}},t.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},t.TimeBase.prototype._tokenize=function(t){function e(t,e){for(var n=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],i=0;i<n.length;i++){var o=e[n[i]];for(var r in o){var s=o[r],a=s.regexp,u=t.match(a);if(null!==u)return{method:s.method,precedence:s.precedence,regexp:s.regexp,value:u[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+t)}for(var n=-1,i=[];t.length>0;){var o=e(t=t.trim(),this);i.push(o),t=t.substr(o.value.length)}return{next:function(){return i[++n]},peek:function(){return i[n+1]}}},t.TimeBase.prototype._matchGroup=function(t,e,n){if(!this.isUndef(t))for(var i in e){var o=e[i];if(o.regexp.test(t.value)){if(this.isUndef(n))return o;if(o.precedence===n)return o}}return!1},t.TimeBase.prototype._parseBinary=function(t,e){var n;this.isUndef(e)&&(e=2),n=0>e?this._parseUnary(t):this._parseBinary(t,e-1);for(var i=t.peek();i&&this._matchGroup(i,this._binaryExpressions,e);)i=t.next(),n=i.method.bind(this,n,this._parseBinary(t,e-1)),i=t.peek();return n},t.TimeBase.prototype._parseUnary=function(t){var e,n;e=t.peek();var i=this._matchGroup(e,this._unaryExpressions);return i?(e=t.next(),n=this._parseUnary(t),i.method.bind(this,n)):this._parsePrimary(t)},t.TimeBase.prototype._parsePrimary=function(t){var e,n;if(e=t.peek(),this.isUndef(e))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(e,this._primaryExpressions)){var i=(e=t.next()).value.match(e.regexp);return e.method.bind(this,i[1],i[2],i[3])}if(e&&"("===e.value){if(t.next(),n=this._parseBinary(t),!(e=t.next())||")"!==e.value)throw new SyntaxError("Expected )");return n}throw new SyntaxError("Tone.TimeBase: Cannot process token "+e.value)},t.TimeBase.prototype._parseExprString=function(t){this.isString(t)||(t=t.toString());var e=this._tokenize(t),n=this._parseBinary(e);return n},t.TimeBase.prototype._noOp=function(){return 0},t.TimeBase.prototype._defaultExpr=function(){return this._noOp},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},t.TimeBase.prototype._beatsToUnits=function(e){return 60/t.Transport.bpm.value*e},t.TimeBase.prototype._secondsToUnits=function(t){return t},t.TimeBase.prototype._ticksToUnits=function(e){return e*(this._beatsToUnits(1)/t.Transport.PPQ)},t.TimeBase.prototype._timeSignature=function(){return t.Transport.timeSignature},t.TimeBase.prototype._pushExpr=function(e,n,i){return e instanceof t.TimeBase||(e=new this.constructor(e,i)),this._expr=this._binaryExpressions[n].method.bind(this,this._expr,e._expr),this},t.TimeBase.prototype.add=function(t,e){return this._pushExpr(t,"+",e)},t.TimeBase.prototype.sub=function(t,e){return this._pushExpr(t,"-",e)},t.TimeBase.prototype.mult=function(t,e){return this._pushExpr(t,"*",e)},t.TimeBase.prototype.div=function(t,e){return this._pushExpr(t,"/",e)},t.TimeBase.prototype.valueOf=function(){return this._expr()},t.TimeBase.prototype.dispose=function(){this._expr=null},t.TimeBase}(o),function(t){t.Time=function(e,n){return this instanceof t.Time?(this._plusNow=!1,void t.TimeBase.call(this,e,n)):new t.Time(e,n)},t.extend(t.Time,t.TimeBase),t.Time.prototype._unaryExpressions=Object.create(t.TimeBase.prototype._unaryExpressions),t.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){return t.Transport.nextSubdivision(e())}},t.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(t){return this._plusNow=!0,t()}},t.Time.prototype.quantize=function(t,e){return e=this.defaultArg(e,1),this._expr=function(t,e,n){t=t(),e=e.toSeconds();var i=Math.round(t/e),o=i*e,r=o-t;return t+r*n}.bind(this,this._expr,new this.constructor(t),e),this},t.Time.prototype.addNow=function(){return this._plusNow=!0,this},t.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},t.Time.prototype.copy=function(e){return t.TimeBase.prototype.copy.call(this,e),this._plusNow=e._plusNow,this},t.Time.prototype.toNotation=function(){var t=this.toSeconds(),e=this._toNotationHelper(t,["1m","2n","4n","8n","16n","32n","64n","128n"]),n=this._toNotationHelper(t,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return n.split("+").length<e.split("+").length?n:e},t.Time.prototype._toNotationHelper=function(t,e){for(var n=this._notationToUnits(e[e.length-1]),i="",o=0;o<e.length;o++){var r=this._notationToUnits(e[o]),s=t/r;if(1e-6>1-s%1&&(s+=1e-6),(s=Math.floor(s))>0){if(i+=1===s?e[o]:s.toString()+"*"+e[o],n>(t-=s*r))break;i+=" + "}}return""===i&&(i="0"),i},t.Time.prototype._notationToUnits=function(t){for(var e=this._primaryExpressions,n=[e.n,e.t,e.m],i=0;i<n.length;i++){var o=n[i],r=t.match(o.regexp);if(r)return o.method.call(this,r[1])}},t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.toSeconds()/t,n=Math.floor(e/this._timeSignature()),i=e%1*4;e=Math.floor(e)%this._timeSignature(),(i=i.toString()).length>3&&(i=parseFloat(i).toFixed(3));var o=[n,e,i];return o.join(":")},t.Time.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.Time.prototype.valueOf=function(){var t=this._expr();return t+(this._plusNow?this.now():0)},t.Time}(o),function(t){t.Frequency=function(e,n){return this instanceof t.Frequency?void t.TimeBase.call(this,e,n):new t.Frequency(e,n)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._primaryExpressions=Object.create(t.TimeBase.prototype._primaryExpressions),t.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return this.midiToFrequency(t)}},t.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,n){var i=e[t.toLowerCase()],o=i+12*(parseInt(n)+1);return this.midiToFrequency(o)}},t.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}},t.Frequency.prototype.transpose=function(t){return this._expr=function(t,e){var n=t();return n*this.intervalToFrequencyRatio(e)}.bind(this,this._expr,t),this},t.Frequency.prototype.harmonize=function(t){return this._expr=function(t,e){for(var n=t(),i=[],o=0;o<e.length;o++)i[o]=n*this.intervalToFrequencyRatio(e[o]);return i}.bind(this,this._expr,t),this},t.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},t.Frequency.prototype.toNote=function(){var e=this.valueOf(),i=Math.log(e/t.Frequency.A4)/Math.LN2,o=Math.round(12*i)+57,r=Math.floor(o/12);0>r&&(o+=-12*r);var s=n[o%12];return s+r.toString()},t.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},t.Frequency.prototype.toFrequency=function(){return this.valueOf()},t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Frequency.prototype._frequencyToUnits=function(t){return t},t.Frequency.prototype._ticksToUnits=function(e){return 1/(60*e/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)},t.Frequency.prototype._secondsToUnits=function(t){return 1/t},t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];t.Frequency.A4=440,t.Frequency.prototype.midiToFrequency=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)},t.Frequency.prototype.frequencyToMidi=function(e){return 69+12*Math.log(e/t.Frequency.A4)/Math.LN2},t.Frequency}(o),function(t){t.TransportTime=function(e,n){return this instanceof t.TransportTime?void t.Time.call(this,e,n):new t.TransportTime(e,n)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._unaryExpressions=Object.create(t.Time.prototype._unaryExpressions),t.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){var n=this._secondsToTicks(e()),i=Math.ceil(t.Transport.ticks/n);return this._ticksToUnits(i*n)}},t.TransportTime.prototype._secondsToTicks=function(e){var n=this._beatsToUnits(1),i=e/n;return Math.round(i*t.Transport.PPQ)},t.TransportTime.prototype.valueOf=function(){var e=this._secondsToTicks(this._expr());return e+(this._plusNow?t.Transport.ticks:0)},t.TransportTime.prototype.toTicks=function(){return this.valueOf()},t.TransportTime.prototype.toSeconds=function(){var e=this._expr();return e+(this._plusNow?t.Transport.seconds:0)},t.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TransportTime}(o),function(t){"use strict";t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),i=0;i<n.length;i++){var o=n[i];this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(e)}return this},t.Emitter.prototype.off=function(e,n){for(var i=e.split(/\W+/),o=0;o<i.length;o++)if(e=i[o],this._events.hasOwnProperty(e))if(t.prototype.isUndef(n))this._events[e]=[];else for(var r=this._events[e],s=0;s<r.length;s++)r[s]===n&&r.splice(s,1);return this},t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t],i=0,o=n.length;o>i;i++)n[i].apply(this,e)}return this},t.Emitter.mixin=function(e){var n=["on","off","emit"];e._events={};for(var i=0;i<n.length;i++){var o=n[i],r=t.Emitter.prototype[o];e[o]=r}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}(o),function(t){!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),t.Context=function(e){for(var n in t.Emitter.call(this),e||(e=new window.AudioContext),this._context=e,this._context)this._defineProperty(this._context,n);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.prototype._defineProperty=function(t,e){this.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(n){t[e]=n}})},t.Context.prototype.now=function(){return this._context.currentTime},t.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);return n.addEventListener("message",function(){this.emit("tick")}.bind(this)),n.addEventListener("message",function(){var t=this.now();if(this.isNumber(this._lastUpdate)){var e=t-this._lastUpdate;this._computedUpdateInterval=Math.max(e,.97*this._computedUpdateInterval)}this._lastUpdate=t}.bind(this)),n},t.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=t;var o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=e,o.loop=!0,o.start(0),this._constants[t]=o,o},Object.defineProperty(t.Context.prototype,"lag",{get:function(){var t=this._computedUpdateInterval-this._updateInterval;return t=Math.max(t,0)}}),Object.defineProperty(t.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead=t}}),Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(e){this._updateInterval=Math.max(e,t.prototype.blockTime),this._worker.postMessage(Math.max(1e3*e,1))}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,this.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":e=.01}this.lookAhead=e,this.updateInterval=e/3}}),t.supported?(function(){function e(e,i,o){if(e.input)Array.isArray(e.input)?(t.prototype.isUndef(o)&&(o=0),this.connect(e.input[o])):this.connect(e.input,i,o);else try{e instanceof AudioNode?n.call(this,e,i,o):n.call(this,e,i)}catch(t){throw new Error("error connecting to node: "+e+"\n"+t)}}var n=AudioNode.prototype.connect,i=AudioNode.prototype.disconnect;AudioNode.prototype.connect!==e&&(AudioNode.prototype.connect=e,AudioNode.prototype.disconnect=function(e,n,o){if(e&&e.input&&Array.isArray(e.input))t.prototype.isUndef(o)&&(o=0),this.disconnect(e.input[o],n,o);else if(e&&e.input)this.disconnect(e.input,n,o);else try{i.apply(this,arguments)}catch(t){throw new Error("error disconnecting node: "+e+"\n"+t)}})}(),t.context=new t.Context):console.warn("This browser does not support Tone.js"),t.Context}(o),function(t){t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(e){return this.isNumber(e)?e:this.isUndef(e)?this.now():this.isString(e)?new t.Time(e).toSeconds():e instanceof t.TimeBase?e.toSeconds():void 0},t.prototype.toFrequency=function(e){return this.isNumber(e)?e:this.isString(e)||this.isUndef(e)?new t.Frequency(e).valueOf():e instanceof t.TimeBase?e.toFrequency():void 0},t.prototype.toTicks=function(e){return this.isNumber(e)||this.isString(e)?new t.TransportTime(e).toTicks():this.isUndef(e)?t.Transport.ticks:e instanceof t.TimeBase?e.toTicks():void 0}}(o),function(t){"use strict";t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this._lfo=null,this.isObject(e.lfo)?this.value=e.lfo:this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(e){if(this.isObject(e)){if(this.isUndef(t.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new t.LFO(e).start(),this._lfo.connect(this.input)}else{var n=this._fromUnits(e);this._param.cancelScheduledValues(0),this._param.value=n}}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),(e=this.toSeconds(e))<=this.now()+this.blockTime?this._param.value=t:this._param.setValueAtTime(t,e),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return 0===e&&(e=this._minOutput),this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){for(var i=0;i<t.length;i++)t[i]=this._fromUnits(t[i]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,n,i){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampToValue(e,n,i):this.linearRampToValue(e,n,i),this},Object.defineProperty(t.Param.prototype,"lfo",{get:function(){return this._lfo}}),t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},t.Param}(o),function(t){"use strict";window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.prototype.createInsOuts=function(e,n){1===e?this.input=new t.Gain:e>1&&(this.input=new Array(e)),1===n?this.output=new t.Gain:n>1&&(this.output=new Array(e))},t.Gain}(o),r=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal}(o),s=function(t){"use strict";return t.Add=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},t.Add}(o),a=function(t){"use strict";return t.Multiply=function(e){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}(o),u=function(t){"use strict";return t.Scale=function(e,n){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}(o),function(){var n=r,i=s,c=a,p=u,l=o,h=e;l.setContext(h.audiocontext),t.Signal=function(t){var e=new n(t);return e},n.prototype.fade=n.prototype.linearRampToValueAtTime,c.prototype.fade=n.prototype.fade,i.prototype.fade=n.prototype.fade,p.prototype.fade=n.prototype.fade,n.prototype.setInput=function(t){t.connect(this)},c.prototype.setInput=n.prototype.setInput,i.prototype.setInput=n.prototype.setInput,p.prototype.setInput=n.prototype.setInput,n.prototype.add=function(t){var e=new i(t);return this.connect(e),e},c.prototype.add=n.prototype.add,i.prototype.add=n.prototype.add,p.prototype.add=n.prototype.add,n.prototype.mult=function(t){var e=new c(t);return this.connect(e),e},c.prototype.mult=n.prototype.mult,i.prototype.mult=n.prototype.mult,p.prototype.mult=n.prototype.mult,n.prototype.scale=function(e,n,i,o){var r,s;4===arguments.length?(r=t.prototype.map(i,e,n,0,1)-.5,s=t.prototype.map(o,e,n,0,1)-.5):(r=arguments[0],s=arguments[1]);var a=new p(r,s);return this.connect(a),a},c.prototype.scale=n.prototype.scale,i.prototype.scale=n.prototype.scale,p.prototype.scale=n.prototype.scale}(),function(){var n=e,i=s,o=a,r=u;t.Oscillator=function(e,i){if("string"==typeof e){var o=i;i=e,e=o}if("number"==typeof i){var o=i;i=e,e=o}this.started=!1,this.phaseAmount=void 0,this.oscillator=n.audiocontext.createOscillator(),this.f=e||440,this.oscillator.type=i||"sine",this.oscillator.frequency.setValueAtTime(this.f,n.audiocontext.currentTime),this.output=n.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,n.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=n.input,this.panner=new t.Panner(this.output,this.connection,1),this.mathOps=[this.output],n.soundArray.push(this)},t.Oscillator.prototype.start=function(t,e){if(this.started){var i=n.audiocontext.currentTime;this.stop(i)}if(!this.started){var o=e||this.f,r=this.oscillator.type;for(var s in this.oscillator&&(this.oscillator.disconnect(),delete this.oscillator),this.oscillator=n.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(o),this.oscillator.type=r,this.oscillator.connect(this.output),t=t||0,this.oscillator.start(t+n.audiocontext.currentTime),this.freqNode=this.oscillator.frequency,this._freqMods)void 0!==this._freqMods[s].connect&&this._freqMods[s].connect(this.oscillator.frequency);this.started=!0}},t.Oscillator.prototype.stop=function(t){if(this.started){var e=t||0,i=n.audiocontext.currentTime;this.oscillator.stop(e+i),this.started=!1}},t.Oscillator.prototype.amp=function(t,e,i){if("number"==typeof t){var e=e||0,i=i||0,o=n.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(t,o+i+e)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.Oscillator.prototype.fade=t.Oscillator.prototype.amp,t.Oscillator.prototype.getAmp=function(){return this.output.gain.value},t.Oscillator.prototype.freq=function(t,e,i){if("number"!=typeof t||isNaN(t)){if(!t)return this.oscillator.frequency;t.output&&(t=t.output),t.connect(this.oscillator.frequency),this._freqMods.push(t)}else{this.f=t;var o=n.audiocontext.currentTime,e=e||0,i=i||0;0===e?this.oscillator.frequency.setValueAtTime(t,i+o):t>0?this.oscillator.frequency.exponentialRampToValueAtTime(t,i+e+o):this.oscillator.frequency.linearRampToValueAtTime(t,i+e+o),this.phaseAmount&&this.phase(this.phaseAmount)}},t.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},t.Oscillator.prototype.setType=function(t){this.oscillator.type=t},t.Oscillator.prototype.getType=function(){return this.oscillator.type},t.Oscillator.prototype.connect=function(t){t?t.hasOwnProperty("input")?(this.panner.connect(t.input),this.connection=t.input):(this.panner.connect(t),this.connection=t):this.panner.connect(n.input)},t.Oscillator.prototype.disconnect=function(){this.output&&this.output.disconnect(),this.panner&&(this.panner.disconnect(),this.output&&this.output.connect(this.panner)),this.oscMods=[]},t.Oscillator.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.Oscillator.prototype.getPan=function(){return this.panPosition},t.Oscillator.prototype.dispose=function(){var t=n.soundArray.indexOf(this);if(n.soundArray.splice(t,1),this.oscillator){var e=n.audiocontext.currentTime;this.stop(e),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},t.Oscillator.prototype.phase=function(e){var i=t.prototype.map(e,0,1,0,1/this.f),o=n.audiocontext.currentTime;this.phaseAmount=e,this.dNode||(this.dNode=n.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(i,o)};var c=function(t,e,n,i,o){var r=t.oscillator;for(var s in t.mathOps)t.mathOps[s]instanceof o&&(r.disconnect(),t.mathOps[s].dispose(),(n=s)<t.mathOps.length-2&&(i=t.mathOps[s+1]));return n===t.mathOps.length-1&&t.mathOps.push(i),s>0&&(r=t.mathOps[s-1]),r.disconnect(),r.connect(e),e.connect(i),t.mathOps[n]=e,t};t.Oscillator.prototype.add=function(t){var e=new i(t),n=this.mathOps.length-1,o=this.output;return c(this,e,n,o,i)},t.Oscillator.prototype.mult=function(t){var e=new o(t),n=this.mathOps.length-1,i=this.output;return c(this,e,n,i,o)},t.Oscillator.prototype.scale=function(e,n,i,o){var s,a;4===arguments.length?(s=t.prototype.map(i,e,n,0,1)-.5,a=t.prototype.map(o,e,n,0,1)-.5):(s=arguments[0],a=arguments[1]);var u=new r(s,a),p=this.mathOps.length-1,l=this.output;return c(this,u,p,l,r)},t.SinOsc=function(e){t.Oscillator.call(this,e,"sine")},t.SinOsc.prototype=Object.create(t.Oscillator.prototype),t.TriOsc=function(e){t.Oscillator.call(this,e,"triangle")},t.TriOsc.prototype=Object.create(t.Oscillator.prototype),t.SawOsc=function(e){t.Oscillator.call(this,e,"sawtooth")},t.SawOsc.prototype=Object.create(t.Oscillator.prototype),t.SqrOsc=function(e){t.Oscillator.call(this,e,"square")},t.SqrOsc.prototype=Object.create(t.Oscillator.prototype)}(),function(t){"use strict";t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(t){if(this.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.remove=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.get=function(t){var e=this._search(t);return-1!==e?this._timeline[e]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(t){var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getBefore=function(t){var e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];var n=this._search(t);return n-1>=0?this._timeline[n-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){var e=0,n=this._timeline.length,i=n;if(n>0&&this._timeline[n-1].time<=t)return n-1;for(;i>e;){var o=Math.floor(e+(i-e)/2),r=this._timeline[o],s=this._timeline[o+1];if(r.time===t){for(var a=o;a<this._timeline.length;a++){var u=this._timeline[a];u.time===t&&(o=a)}return o}if(r.time<t&&s.time>t)return o;r.time>t?i=o:r.time<t&&(e=o+1)}return-1},t.Timeline.prototype._iterate=function(t,e,n){this._iterating=!0,e=this.defaultArg(e,0),n=this.defaultArg(n,this._timeline.length-1);for(var i=e;n>=i;i++)t(this._timeline[i]);if(this._iterating=!1,this._toRemove.length>0){for(var o=0;o<this._toRemove.length;o++){var r=this._timeline.indexOf(this._toRemove[o]);-1!==r&&this._timeline.splice(r,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(function(n){n.time===t&&e(n)},0,n),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}(o),c=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this._events=new t.Timeline(10),t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){var t=this.now(),e=this.getValueAtTime(t);return this._toUnits(e)},set:function(t){var e=this._fromUnits(t);this._initial=e,this.cancelScheduledValues(),this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){n=this.toSeconds(n);var i=this._searchBefore(n);i&&0===i.value&&this.setValueAtTime(this._minOutput,i.time),e=this._fromUnits(e);var o=Math.max(e,this._minOutput);return this._events.add({type:t.TimelineSignal.Type.Exponential,value:o,time:n}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,n-this.sampleTime),this.setValueAtTime(0,n)):this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,i){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),i=Math.max(this._minOutput,i),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:i}),this._param.setTargetAtTime(e,n,i),this},t.TimelineSignal.prototype.setValueCurveAtTime=function(e,n,i,o){o=this.defaultArg(o,1);for(var r=new Array(e.length),s=0;s<r.length;s++)r[s]=this._fromUnits(e[s])*o;n=this.toSeconds(n),i=this.toSeconds(i),this._events.add({type:t.TimelineSignal.Type.Curve,value:r,time:n,duration:i}),this._param.setValueAtTime(r[0],n);for(var a=1;a<r.length;a++){var u=n+a/(r.length-1)*i;this._param.linearRampToValueAtTime(r[a],u)}return this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this._toUnits(this.getValueAtTime(e)),i=this._searchBefore(e);if(i&&i.time===e)this.cancelScheduledValues(e+this.sampleTime);else if(i&&i.type===t.TimelineSignal.Type.Curve&&i.time+i.duration>e)this.cancelScheduledValues(e),this.linearRampToValueAtTime(n,e);else{var o=this._searchAfter(e);o&&(this.cancelScheduledValues(e),o.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):o.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e)),this.setValueAtTime(n,e)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.get(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var n=this._searchAfter(e),i=this._searchBefore(e),o=this._initial;if(null===i)o=this._initial;else if(i.type===t.TimelineSignal.Type.Target){var r,s=this._events.getBefore(i.time);r=null===s?this._initial:s.value,o=this._exponentialApproach(i.time,r,i.value,i.constant,e)}else o=i.type===t.TimelineSignal.Type.Curve?this._curveInterpolate(i.time,i.value,i.duration,e):null===n?i.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(i.time,i.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(i.time,i.value,n.time,n.value,e):i.value;return o},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,i,o){return n+(e-n)*Math.exp(-(o-t)/i)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,i,o){return e+(o-t)/(n-t)*(i-e)},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,i,o){return(e=Math.max(this._minOutput,e))*Math.pow(i/e,(o-t)/(n-t))},t.TimelineSignal.prototype._curveInterpolate=function(t,e,n,i){var o=e.length;if(i>=t+n)return e[o-1];if(t>=i)return e[0];var r=(i-t)/n,s=Math.floor((o-1)*r),a=Math.ceil((o-1)*r),u=e[s],c=e[a];return a===s?u:this._linearInterpolate(s,u,a,c,r*(o-1))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}(o),function(){var n=e,i=s,r=a,p=u,l=c,h=o;h.setContext(n.audiocontext),t.Envelope=function(t,e,i,o,r,s){this.aTime=t||.1,this.aLevel=e||1,this.dTime=i||.5,this.dLevel=o||0,this.rTime=r||0,this.rLevel=s||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=n.audiocontext.createGain(),this.control=new l,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,n.soundArray.push(this)},t.Envelope.prototype._init=function(){var t=n.audiocontext.currentTime,e=t;this.control.setTargetAtTime(1e-5,e,.001),this._setRampAD(this.aTime,this.dTime)},t.Envelope.prototype.set=function(t,e,n,i,o,r){this.aTime=t,this.aLevel=e,this.dTime=n||0,this.dLevel=i||0,this.rTime=o||0,this.rLevel=r||0,this._setRampAD(t,n)},t.Envelope.prototype.setADSR=function(t,e,n,i){this.aTime=t,this.dTime=e||0,this.sPercent=n||0,this.dLevel=void 0!==n?n*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=i||0,this._setRampAD(t,e)},t.Envelope.prototype.setRange=function(t,e){this.aLevel=t||1,this.rLevel=e||0},t.Envelope.prototype._setRampAD=function(t,e){this._rampAttackTime=this.checkExpInput(t),this._rampDecayTime=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=t/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=e/this.checkExpInput(n)},t.Envelope.prototype.setRampPercentages=function(t,e){this._rampHighPercentage=this.checkExpInput(t),this._rampLowPercentage=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(n)},t.Envelope.prototype.setInput=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t])},t.Envelope.prototype.setExp=function(t){this.isExponential=t},t.Envelope.prototype.checkExpInput=function(t){return 0>=t&&(t=1e-8),t},t.Envelope.prototype.play=function(t,e,n){var i=e||0,n=n||0;t&&this.connection!==t&&this.connect(t),this.triggerAttack(t,i),this.triggerRelease(t,i+this.aTime+this.dTime+n)},t.Envelope.prototype.triggerAttack=function(t,e){var i=n.audiocontext.currentTime,o=e||0,r=i+o;this.lastAttack=r,this.wasTriggered=!0,t&&this.connection!==t&&this.connect(t);var s=this.control.getValueAtTime(r);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(s),r):this.control.linearRampToValueAtTime(s,r),r+=this.aTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.aLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r)),r+=this.dTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.dLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r))},t.Envelope.prototype.triggerRelease=function(t,e){if(this.wasTriggered){var i=n.audiocontext.currentTime,o=e||0,r=i+o;t&&this.connection!==t&&this.connect(t);var s=this.control.getValueAtTime(r);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(s),r):this.control.linearRampToValueAtTime(s,r),r+=this.rTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.rLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r)),this.wasTriggered=!1}},t.Envelope.prototype.ramp=function(t,e,i,o){var r=n.audiocontext.currentTime,s=e||0,a=r+s,u=this.checkExpInput(i),c=void 0!==o?this.checkExpInput(o):void 0;t&&this.connection!==t&&this.connect(t);var p=this.checkExpInput(this.control.getValueAtTime(a));u>p?(this.control.setTargetAtTime(u,a,this._rampAttackTC),a+=this._rampAttackTime):p>u&&(this.control.setTargetAtTime(u,a,this._rampDecayTC),a+=this._rampDecayTime),void 0!==c&&(c>u?this.control.setTargetAtTime(c,a,this._rampAttackTC):u>c&&this.control.setTargetAtTime(c,a,this._rampDecayTC))},t.Envelope.prototype.connect=function(e){this.connection=e,(e instanceof t.Oscillator||e instanceof t.SoundFile||e instanceof t.AudioIn||e instanceof t.Reverb||e instanceof t.Noise||e instanceof t.Filter||e instanceof t.Delay)&&(e=e.output.gain),e instanceof AudioParam&&e.setValueAtTime(0,n.audiocontext.currentTime),e instanceof t.Signal&&e.setValue(0),this.output.connect(e)},t.Envelope.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.Envelope.prototype.add=function(e){var n=new i(e),o=this.mathOps.length,r=this.output;return t.prototype._mathChain(this,n,o,r,i)},t.Envelope.prototype.mult=function(e){var n=new r(e),i=this.mathOps.length,o=this.output;return t.prototype._mathChain(this,n,i,o,r)},t.Envelope.prototype.scale=function(e,n,i,o){var r=new p(e,n,i,o),s=this.mathOps.length,a=this.output;return t.prototype._mathChain(this,r,s,a,p)},t.Envelope.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.disconnect(),this.control&&(this.control.dispose(),this.control=null);for(var e=1;e<this.mathOps.length;e++)this.mathOps[e].dispose()},t.Env=function(e,n,i,o,r,s){console.warn("WARNING: p5.Env is now deprecated and may be removed in future versions. Please use the new p5.Envelope instead."),t.Envelope.call(this,e,n,i,o,r,s)},t.Env.prototype=Object.create(t.Envelope.prototype)}(),function(){function n(){for(var t=i.audiocontext,e=t.createBuffer(1,2048,t.sampleRate),n=e.getChannelData(0),o=0;2048>o;o++)n[o]=1;var r=t.createBufferSource();return r.buffer=e,r.loop=!0,r}var i=e;t.Pulse=function(e,o){t.Oscillator.call(this,e,"sawtooth"),this.w=o||0,this.osc2=new t.SawOsc(e),this.dNode=i.audiocontext.createDelay(),this.dcOffset=n(),this.dcGain=i.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=e||440;var r=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=r,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},t.Pulse.prototype=Object.create(t.Oscillator.prototype),t.Pulse.prototype.width=function(e){if("number"==typeof e){if(1>=e&&e>=0){this.w=e;var n=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=n}this.dcGain.gain.value=1.7*(.5-this.w)}else{e.connect(this.dNode.delayTime);var i=new t.SignalAdd(-.5);i.setInput(e),(i=(i=i.mult(-1)).mult(1.7)).connect(this.dcGain.gain)}},t.Pulse.prototype.start=function(t,e){var o=i.audiocontext.currentTime,r=e||0;if(!this.started){var s=t||this.f,a=this.oscillator.type;this.oscillator=i.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(s,o),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(r+o),this.osc2.oscillator=i.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(s,r+o),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(r+o),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=n(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(r+o),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},t.Pulse.prototype.stop=function(t){if(this.started){var e=t||0,n=i.audiocontext.currentTime;this.oscillator.stop(e+n),this.osc2.oscillator&&this.osc2.oscillator.stop(e+n),this.dcOffset.stop(e+n),this.started=!1,this.osc2.started=!1}},t.Pulse.prototype.freq=function(t,e,n){if("number"==typeof t){this.f=t;var o=i.audiocontext.currentTime,e=e||0,n=n||0,r=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(o),this.oscillator.frequency.setValueAtTime(r,o+n),this.oscillator.frequency.exponentialRampToValueAtTime(t,n+e+o),this.osc2.oscillator.frequency.cancelScheduledValues(o),this.osc2.oscillator.frequency.setValueAtTime(r,o+n),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(t,n+e+o),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else t.output&&(t.output.disconnect(),t.output.connect(this.oscillator.frequency),t.output.connect(this.osc2.oscillator.frequency),this.freqMod=t)}}(),function(){var n=e;t.Noise=function(e){var n;t.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,n="brown"===e?r:"pink"===e?o:i,this.buffer=n},t.Noise.prototype=Object.create(t.Oscillator.prototype);var i=function(){for(var t=2*n.audiocontext.sampleRate,e=n.audiocontext.createBuffer(1,t,n.audiocontext.sampleRate),i=e.getChannelData(0),o=0;t>o;o++)i[o]=2*Math.random()-1;return e.type="white",e}(),o=function(){var t,e,i,o,r,s,a,u=2*n.audiocontext.sampleRate,c=n.audiocontext.createBuffer(1,u,n.audiocontext.sampleRate),p=c.getChannelData(0);t=e=i=o=r=s=a=0;for(var l=0;u>l;l++){var h=2*Math.random()-1;t=.99886*t+.0555179*h,e=.99332*e+.0750759*h,i=.969*i+.153852*h,o=.8665*o+.3104856*h,r=.55*r+.5329522*h,s=-.7616*s-.016898*h,p[l]=t+e+i+o+r+s+a+.5362*h,p[l]*=.11,a=.115926*h}return c.type="pink",c}(),r=function(){for(var t=2*n.audiocontext.sampleRate,e=n.audiocontext.createBuffer(1,t,n.audiocontext.sampleRate),i=e.getChannelData(0),o=0,r=0;t>r;r++){var s=2*Math.random()-1;i[r]=(o+.02*s)/1.02,o=i[r],i[r]*=3.5}return e.type="brown",e}();t.Noise.prototype.setType=function(t){switch(t){case"white":this.buffer=i;break;case"pink":this.buffer=o;break;case"brown":this.buffer=r;break;default:this.buffer=i}if(this.started){var e=n.audiocontext.currentTime;this.stop(e),this.start(e+.01)}},t.Noise.prototype.getType=function(){return this.buffer.type},t.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=n.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var t=n.audiocontext.currentTime;this.noise.start(t),this.started=!0},t.Noise.prototype.stop=function(){var t=n.audiocontext.currentTime;this.noise&&(this.noise.stop(t),this.started=!1)},t.Noise.prototype.dispose=function(){var t=n.audiocontext.currentTime,e=n.soundArray.indexOf(this);n.soundArray.splice(e,1),this.noise&&(this.noise.disconnect(),this.stop(t)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(),function(){var n=e;n.inputSources=[],t.AudioIn=function(e){this.input=n.audiocontext.createGain(),this.output=n.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),window.MediaStreamTrack&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia||(e?e():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),n.soundArray.push(this)},t.AudioIn.prototype.start=function(t,e){var i=this;this.stream&&this.stop();var o=n.inputSources[i.currentSource],r={audio:{sampleRate:n.audiocontext.sampleRate,echoCancellation:!1}};n.inputSources[this.currentSource]&&(r.audio.deviceId=o.deviceId),window.navigator.mediaDevices.getUserMedia(r).then(function(e){i.stream=e,i.enabled=!0,i.mediaStream=n.audiocontext.createMediaStreamSource(e),i.mediaStream.connect(i.output),i.amplitude.setInput(i.output),t&&t()}).catch(function(t){e?e(t):console.error(t)})},t.AudioIn.prototype.stop=function(){this.stream&&(this.stream.getTracks().forEach(function(t){t.stop()}),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)},t.AudioIn.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):t.hasOwnProperty("analyser")?this.output.connect(t.analyser):this.output.connect(t):this.output.connect(n.input)},t.AudioIn.prototype.disconnect=function(){this.output&&(this.output.disconnect(),this.output.connect(this.amplitude.input))},t.AudioIn.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.AudioIn.prototype.amp=function(t,e){if(e){var i=e||0,o=this.output.gain.value;this.output.gain.cancelScheduledValues(n.audiocontext.currentTime),this.output.gain.setValueAtTime(o,n.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(t,i+n.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(n.audiocontext.currentTime),this.output.gain.setValueAtTime(t,n.audiocontext.currentTime)},t.AudioIn.prototype.getSources=function(t,e){return new Promise(function(i,o){window.navigator.mediaDevices.enumerateDevices().then(function(e){n.inputSources=e.filter(function(t){return"audioinput"===t.kind}),i(n.inputSources),t&&t(n.inputSources)}).catch(function(t){o(t),e?e(t):console.error("This browser does not support MediaStreamTrack.getSources()")})})},t.AudioIn.prototype.setSource=function(t){n.inputSources.length>0&&t<n.inputSources.length?(this.currentSource=t,console.log("set source to ",n.inputSources[this.currentSource])):console.log("unable to set input source"),this.stream&&this.stream.active&&this.start()},t.AudioIn.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}(),function(t){"use strict";t.Negate=function(){this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}(o),function(t){"use strict";t.Subtract=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(e),this._param.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},t.Subtract}(o),function(t){"use strict";t.GreaterThanZero=function(){this._thresh=this.output=new t.WaveShaper(function(t){return 0>=t?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}(o),function(t){"use strict";t.GreaterThan=function(e){this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(e),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}(o),function(t){"use strict";t.Abs=function(){this._abs=this.input=this.output=new t.WaveShaper(function(t){return 0===t?0:Math.abs(t)},127)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}(o),function(t){"use strict";t.Modulo=function(e){this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}(o),function(t){"use strict";t.Pow=function(e){this._exp=this.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}(o),function(t){"use strict";t.AudioToGain=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}(o),function(t){"use strict";function e(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),n._eval(e[1]).connect(i,0,1),i}function n(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),i}function i(t){return t?parseFloat(t):void 0}function o(t){return t&&t.args?parseFloat(t.args):void 0}t.Expr=function(){var t=this._replacements(Array.prototype.slice.call(arguments)),e=this._parseInputs(t);this._nodes=[],this.input=new Array(e);for(var n=0;e>n;n++)this.input[n]=this.context.createGain();var i,o=this._parseTree(t);try{i=this._eval(o)}catch(e){throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+t)}this.output=i},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(e){var n=new t.Signal(i(e));return n}},input:{regexp:/^\$\d/,method:function(t,e){return e.input[i(t.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,t.Abs)},mod:{regexp:/^mod/,method:function(e,n){var i=o(e[1]),r=new t.Modulo(i);return n._eval(e[0]).connect(r),r}},pow:{regexp:/^pow/,method:function(e,n){var i=o(e[1]),r=new t.Pow(i);return n._eval(e[0]).connect(r),r}},a2g:{regexp:/^a2g/,method:function(e,n){var i=new t.AudioToGain;return n._eval(e[0]).connect(i),i}}},binary:{"+":{regexp:/^\+/,precedence:1,method:e.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(i,o){return 1===i.length?n(t.Negate,i,o):e(t.Subtract,i,o)}},"*":{regexp:/^\*/,precedence:0,method:e.bind(this,t.Multiply)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,t.Negate)},"!":{regexp:/^\!/,method:n.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(t){var e=t.match(/\$\d/g),n=0;if(null!==e)for(var i=0;i<e.length;i++){var o=parseInt(e[i].substr(1))+1;n=Math.max(n,o)}return n},t.Expr.prototype._replacements=function(t){for(var e=t.shift(),n=0;n<t.length;n++)e=e.replace(/\%/i,t[n]);return e},t.Expr.prototype._tokenize=function(e){function n(e){for(var n in t.Expr._Expressions){var i=t.Expr._Expressions[n];for(var o in i){var r=i[o],s=r.regexp,a=e.match(s);if(null!==a)return{type:n,value:a[0],method:r.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+e)}for(var i=-1,o=[];e.length>0;){var r=n(e=e.trim());o.push(r),e=e.substr(r.value.length)}return{next:function(){return o[++i]},peek:function(){return o[i+1]}}},t.Expr.prototype._parseTree=function(e){function n(t,e){return!s(t)&&"glue"===t.type&&t.value===e}function i(e,n,i){var o=t.Expr._Expressions[n];if(!s(e))for(var r in o){var a=o[r];if(a.regexp.test(e.value)){if(s(i))return!0;if(a.precedence===i)return!0}}return!1}function o(t){var e;s(t)&&(t=5),e=0>t?function t(){var e,a;return i(e=r.peek(),"unary")?(e=r.next(),a=t(),{operator:e.value,method:e.method,args:[a]}):function(){var t,e;if(t=r.peek(),s(t))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if("func"===t.type)return function(t){var e=[];if(!n(r.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+t.value+'"');if(n(r.peek(),")")||(e=function(){for(var t,e=[];t=o(),!s(t)&&(e.push(t),n(r.peek(),","));)r.next();return e}()),!n(r.next(),")"))throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+t.value+'"');return{method:t.method,args:e,name:name}}(t=r.next());if("value"===t.type)return{method:(t=r.next()).method,args:t.value};if(n(t,"(")){if(r.next(),e=o(),!n(t=r.next(),")"))throw new SyntaxError("Expected )");return e}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+t.value)}()}():o(t-1);for(var n=r.peek();i(n,"binary",t);)n=r.next(),e={operator:n.value,method:n.method,args:[e,o(t-1)]},n=r.peek();return e}var r=this._tokenize(e),s=this.isUndef.bind(this);return o()},t.Expr.prototype._eval=function(t){if(!this.isUndef(t)){var e=t.method(t.args,this);return this._nodes.push(e),e}},t.Expr.prototype._disposeNodes=function(){for(var t=0;t<this._nodes.length;t++){var e=this._nodes[t];this.isFunction(e.dispose)?e.dispose():this.isFunction(e.disconnect)&&e.disconnect(),e=null,this._nodes[t]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeNodes()},t.Expr}(o),function(t){"use strict";t.EqualPowerGain=function(){this._eqPower=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)<.001?0:this.equalPowerScale(t)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}(o),p=function(t){"use strict";return t.CrossFade=function(e){this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(this.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade),t.CrossFade.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}(o),l=function(){var n=e,i=p;return t.Effect=function(){this.ac=n.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new i(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),n.soundArray.push(this)},t.Effect.prototype.amp=function(t,e,i){var e=e||0,i=i||0,o=n.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i+.001),this.output.gain.linearRampToValueAtTime(t,o+i+e+.001)},t.Effect.prototype.chain=function(){if(arguments.length>0){this.connect(arguments[0]);for(var t=1;t<arguments.length;t+=1)arguments[t-1].connect(arguments[t])}return this},t.Effect.prototype.drywet=function(t){return void 0!==t&&(this._drywet.fade.value=t),this._drywet.fade.value},t.Effect.prototype.connect=function(e){var n=e||t.soundOut.input;this.output.connect(n.input?n.input:n)},t.Effect.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.Effect.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._drywet&&(this._drywet.disconnect(),delete this._drywet),this.wet&&(this.wet.disconnect(),delete this.wet),this.ac=void 0},t.Effect}(),h=function(){var e=l;return t.Filter=function(t){e.call(this),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.wet),t&&this.setType(t),this._on=!0,this._untoggledType=this.biquad.type},t.Filter.prototype=Object.create(e.prototype),t.Filter.prototype.process=function(t,e,n,i){t.connect(this.input),this.set(e,n,i)},t.Filter.prototype.set=function(t,e,n){t&&this.freq(t,n),e&&this.res(e,n)},t.Filter.prototype.freq=function(t,e){var n=e||0;return 0>=t&&(t=1),"number"==typeof t?(this.biquad.frequency.value=t,this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.frequency.exponentialRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.frequency),this.biquad.frequency.value},t.Filter.prototype.res=function(t,e){var n=e||0;return"number"==typeof t?(this.biquad.Q.value=t,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.Q.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.Q),this.biquad.Q.value},t.Filter.prototype.gain=function(t,e){var n=e||0;return"number"==typeof t?(this.biquad.gain.value=t,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.gain.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.gain),this.biquad.gain.value},t.Filter.prototype.toggle=function(){return this._on=!this._on,!0===this._on?this.biquad.type=this._untoggledType:!1===this._on&&(this.biquad.type="allpass"),this._on},t.Filter.prototype.setType=function(t){this.biquad.type=t,this._untoggledType=this.biquad.type},t.Filter.prototype.dispose=function(){e.prototype.dispose.apply(this),this.biquad&&(this.biquad.disconnect(),delete this.biquad)},t.LowPass=function(){t.Filter.call(this,"lowpass")},t.LowPass.prototype=Object.create(t.Filter.prototype),t.HighPass=function(){t.Filter.call(this,"highpass")},t.HighPass.prototype=Object.create(t.Filter.prototype),t.BandPass=function(){t.Filter.call(this,"bandpass")},t.BandPass.prototype=Object.create(t.Filter.prototype),t.Filter}(),f=function(){var n=h,i=e,o=function(t,e){n.call(this,"peaking"),this.disconnect(),this.set(t,e),this.biquad.gain.value=0,delete this.input,delete this.output,delete this._drywet,delete this.wet};return(o.prototype=Object.create(n.prototype)).amp=function(){console.warn("`amp()` is not available for p5.EQ bands. Use `.gain()`")},o.prototype.drywet=function(){console.warn("`drywet()` is not available for p5.EQ bands.")},o.prototype.connect=function(e){var n=e||t.soundOut.input;this.biquad?this.biquad.connect(n.input?n.input:n):this.output.connect(n.input?n.input:n)},o.prototype.disconnect=function(){this.biquad&&this.biquad.disconnect()},o.prototype.dispose=function(){var t=i.soundArray.indexOf(this);i.soundArray.splice(t,1),this.disconnect(),delete this.biquad},o}(),function(){var e=l,n=f;t.EQ=function(t){var n;e.call(this),n=3===(t=3===t||8===t?t:3)?Math.pow(2,3):2,this.bands=[];for(var i,o,r=0;t>r;r++)r===t-1?(i=21e3,o=.01):0===r?(i=100,o=.1):1===r?(i=3===t?360*n:360,o=1):(i=this.bands[r-1].freq()*n,o=1),this.bands[r]=this._newBand(i,o),r>0?this.bands[r-1].connect(this.bands[r].biquad):this.input.connect(this.bands[r].biquad);this.bands[t-1].connect(this.output)},t.EQ.prototype=Object.create(e.prototype),t.EQ.prototype.process=function(t){t.connect(this.input)},t.EQ.prototype.set=function(){if(arguments.length===2*this.bands.length)for(var t=0;t<arguments.length;t+=2)this.bands[t/2].freq(arguments[t]),this.bands[t/2].gain(arguments[t+1]);else console.error("Argument mismatch. .set() should be called with "+2*this.bands.length+" arguments. (one frequency and gain value pair for each band of the eq)")},t.EQ.prototype._newBand=function(t,e){return new n(t,e)},t.EQ.prototype.dispose=function(){if(e.prototype.dispose.apply(this),this.bands){for(;this.bands.length>0;)this.bands.pop().dispose();delete this.bands}},t.EQ}(),function(){var e=l;t.Panner3D=function(){e.call(this),this.panner=this.ac.createPanner(),this.panner.panningModel="HRTF",this.panner.distanceModel="linear",this.panner.connect(this.output),this.input.connect(this.panner)},t.Panner3D.prototype=Object.create(e.prototype),t.Panner3D.prototype.process=function(t){t.connect(this.input)},t.Panner3D.prototype.set=function(t,e,n,i){return this.positionX(t,i),this.positionY(e,i),this.positionZ(n,i),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]},t.Panner3D.prototype.positionX=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionX.value=t,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionX),this.panner.positionX.value},t.Panner3D.prototype.positionY=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionY.value=t,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionY),this.panner.positionY.value},t.Panner3D.prototype.positionZ=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionZ.value=t,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionZ),this.panner.positionZ.value},t.Panner3D.prototype.orient=function(t,e,n,i){return this.orientX(t,i),this.orientY(e,i),this.orientZ(n,i),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]},t.Panner3D.prototype.orientX=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationX.value=t,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationX),this.panner.orientationX.value},t.Panner3D.prototype.orientY=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationY.value=t,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationY),this.panner.orientationY.value},t.Panner3D.prototype.orientZ=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationZ.value=t,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationZ),this.panner.orientationZ.value},t.Panner3D.prototype.setFalloff=function(t,e){this.maxDist(t),this.rolloff(e)},t.Panner3D.prototype.maxDist=function(t){return"number"==typeof t&&(this.panner.maxDistance=t),this.panner.maxDistance},t.Panner3D.prototype.rolloff=function(t){return"number"==typeof t&&(this.panner.rolloffFactor=t),this.panner.rolloffFactor},t.Panner3D.dispose=function(){e.prototype.dispose.apply(this),this.panner&&(this.panner.disconnect(),delete this.panner)},t.Panner3D}(),function(){var n=e;t.Listener3D=function(t){this.ac=n.audiocontext,this.listener=this.ac.listener},t.Listener3D.prototype.process=function(t){t.connect(this.input)},t.Listener3D.prototype.position=function(t,e,n,i){return this.positionX(t,i),this.positionY(e,i),this.positionZ(n,i),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]},t.Listener3D.prototype.positionX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionX.value=t,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionX),this.listener.positionX.value},t.Listener3D.prototype.positionY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionY.value=t,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionY),this.listener.positionY.value},t.Listener3D.prototype.positionZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionZ.value=t,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionZ),this.listener.positionZ.value},t.Listener3D.prototype.orient=function(t,e,n,i,o,r,s){return 3===arguments.length||4===arguments.length?(s=arguments[3],this.orientForward(t,e,n,s)):(6===arguments.length||7===arguments)&&(this.orientForward(t,e,n),this.orientUp(i,o,r,s)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]},t.Listener3D.prototype.orientForward=function(t,e,n,i){return this.forwardX(t,i),this.forwardY(e,i),this.forwardZ(n,i),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]},t.Listener3D.prototype.orientUp=function(t,e,n,i){return this.upX(t,i),this.upY(e,i),this.upZ(n,i),[this.listener.upX,this.listener.upY,this.listener.upZ]},t.Listener3D.prototype.forwardX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardX.value=t,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardX),this.listener.forwardX.value},t.Listener3D.prototype.forwardY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardY.value=t,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardY),this.listener.forwardY.value},t.Listener3D.prototype.forwardZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardZ.value=t,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardZ),this.listener.forwardZ.value},t.Listener3D.prototype.upX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upX.value=t,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upX),this.listener.upX.value},t.Listener3D.prototype.upY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upY.value=t,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upY),this.listener.upY.value},t.Listener3D.prototype.upZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upZ.value=t,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upZ),this.listener.upZ.value},t.Listener3D}(),function(){var e=h,n=l;t.Delay=function(){n.call(this),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new e,this._rightFilter=new e,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.wet),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue,this.feedback(.5)},t.Delay.prototype=Object.create(n.prototype),t.Delay.prototype.process=function(t,e,n,i){var o=n||0,r=e||0;if(o>=1)throw new Error("Feedback value will force a positive feedback loop.");if(r>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");t.connect(this.input),this.leftDelay.delayTime.setValueAtTime(r,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(r,this.ac.currentTime),this._leftGain.gain.value=o,this._rightGain.gain.value=o,i&&(this._leftFilter.freq(i),this._rightFilter.freq(i))},t.Delay.prototype.delayTime=function(t){"number"!=typeof t?(t.connect(this.leftDelay.delayTime),t.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime))},t.Delay.prototype.feedback=function(t){if(t&&"number"!=typeof t)t.connect(this._leftGain.gain),t.connect(this._rightGain.gain);else{if(t>=1)throw new Error("Feedback value will force a positive feedback loop.");"number"==typeof t&&(this._leftGain.gain.value=t,this._rightGain.gain.value=t)}return this._leftGain.gain.value},t.Delay.prototype.filter=function(t,e){this._leftFilter.set(t,e),this._rightFilter.set(t,e)},t.Delay.prototype.setType=function(t){switch(1===t&&(t="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),t){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay)}},t.Delay.prototype.dispose=function(){n.prototype.dispose.apply(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}(),function(){var e=i,n=l;t.Reverb=function(){n.call(this),this.convolverNode=this.ac.createConvolver(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()},t.Reverb.prototype=Object.create(n.prototype),t.Reverb.prototype.process=function(t,e,n,i){t.connect(this.input);var o=!1;e&&(this._seconds=e,o=!0),n&&(this._decay=n),i&&(this._reverse=i),o&&this._buildImpulse()},t.Reverb.prototype.set=function(t,e,n){var i=!1;t&&(this._seconds=t,i=!0),e&&(this._decay=e),n&&(this._reverse=n),i&&this._buildImpulse()},t.Reverb.prototype._buildImpulse=function(){var t,e,n=this.ac.sampleRate,i=n*this._seconds,o=this._decay,r=this.ac.createBuffer(2,i,n),s=r.getChannelData(0),a=r.getChannelData(1);for(e=0;i>e;e++)t=this._reverse?i-e:e,s[e]=(2*Math.random()-1)*Math.pow(1-t/i,o),a[e]=(2*Math.random()-1)*Math.pow(1-t/i,o);this.convolverNode.buffer=r},t.Reverb.prototype.dispose=function(){n.prototype.dispose.apply(this),this.convolverNode&&(this.convolverNode.buffer=null,this.convolverNode=null)},t.Convolver=function(t,e,i){n.call(this),this.convolverNode=this.ac.createConvolver(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet),t?(this.impulses=[],this._loadBuffer(t,e,i)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse())},t.Convolver.prototype=Object.create(t.Reverb.prototype),t.prototype.registerPreloadMethod("createConvolver",t.prototype),t.prototype.createConvolver=function(e,n,i){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var o=this,r=new t.Convolver(e,function(t){"function"==typeof n&&n(t),"function"==typeof o._decrementPreload&&o._decrementPreload()},i);return r.impulses=[],r},t.Convolver.prototype._loadBuffer=function(n,i,o){var n=t.prototype._checkFileFormats(n),r=this,s=(new Error).stack,a=t.prototype.getAudioContext(),u=new XMLHttpRequest;u.open("GET",n,!0),u.responseType="arraybuffer",u.onload=function(){if(200===u.status)a.decodeAudioData(u.response,function(t){var e={},o=n.split("/");e.name=o[o.length-1],e.audioBuffer=t,r.impulses.push(e),r.convolverNode.buffer=e.audioBuffer,i&&i(e)},function(){var t=new e("decodeAudioData",s,r.url),n="AudioContext error at decodeAudioData for "+r.url;o?(t.msg=n,o(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)});else{var t=new e("loadConvolver",s,r.url),c="Unable to load "+r.url+". The request status was: "+u.status+" ("+u.statusText+")";o?(t.message=c,o(t)):console.error(c+"\n The error stack trace includes: \n"+t.stack)}},u.onerror=function(){var t=new e("loadConvolver",s,r.url),n="There was no response from the server at "+r.url+". Check the url and internet connectivity.";o?(t.message=n,o(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)},u.send()},t.Convolver.prototype.set=null,t.Convolver.prototype.process=function(t){t.connect(this.input)},t.Convolver.prototype.impulses=[],t.Convolver.prototype.addImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(t,e,n)},t.Convolver.prototype.resetImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(t,e,n)},t.Convolver.prototype.toggleImpulse=function(t){if("number"==typeof t&&t<this.impulses.length&&(this.convolverNode.buffer=this.impulses[t].audioBuffer),"string"==typeof t)for(var e=0;e<this.impulses.length;e++)if(this.impulses[e].name===t){this.convolverNode.buffer=this.impulses[e].audioBuffer;break}},t.Convolver.prototype.dispose=function(){for(var t in n.prototype.dispose.apply(this),this.impulses)this.impulses[t]&&(this.impulses[t]=null);this.convolverNode&&(this.convolverNode.disconnect(),this.concolverNode=null)}}(),function(t){"use strict";t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.add({state:t,time:e})},t.TimelineState}(o),d=function(t){"use strict";return t.Clock=function(){t.Emitter.call(this);var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._nextTick=0,this._lastState=t.State.Stopped,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&this._state.add({state:t.State.Started,time:e,offset:n}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(){for(var e=this.now(),n=this.context.lookAhead,i=this.context.updateInterval,o=2*this.context.lag,r=e+n+i+o;r>this._nextTick&&this._state;){var s=this._state.getValueAtTime(this._nextTick);if(s!==this._lastState){this._lastState=s;var a=this._state.get(this._nextTick);s===t.State.Started?(this._nextTick=a.time,this.isUndef(a.offset)||(this.ticks=a.offset),this.emit("start",a.time,this.ticks)):s===t.State.Stopped?(this.ticks=0,this.emit("stop",a.time)):s===t.State.Paused&&this.emit("pause",a.time)}var u=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),s===t.State.Started&&(this.callback(u),this.ticks++))}},t.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}(o),function(){var n=e,i=d;t.Metro=function(){this.clock=new i({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}},t.Metro.prototype.ontick=function(t){var e=t-this.prevTick,i=t-n.audiocontext.currentTime;if(!(e-this.tatumTime<=-.02)){this.prevTick=t;var o=this;this.syncedParts.forEach(function(t){t.isPlaying&&(t.incrementStep(i),t.phrases.forEach(function(t){var e=t.sequence,n=o.metroTicks%e.length;0!==e[n]&&(o.metroTicks<e.length||!t.looping)&&t.callback(i,e[n])}))}),this.metroTicks+=1,this.tickCallback(i)}},t.Metro.prototype.setBPM=function(t,e){var i=60/(t*this.tatums),o=n.audiocontext.currentTime;this.tatumTime=i;var e=e||0;this.clock.frequency.setValueAtTime(this.clock.frequency.value,o),this.clock.frequency.linearRampToValueAtTime(t,o+e),this.bpm=t},t.Metro.prototype.getBPM=function(){return this.clock.getRate()/this.tatums*60},t.Metro.prototype._init=function(){this.metroTicks=0},t.Metro.prototype.resetSync=function(t){this.syncedParts=[t]},t.Metro.prototype.pushSync=function(t){this.syncedParts.push(t)},t.Metro.prototype.start=function(t){var e=t||0,i=n.audiocontext.currentTime;this.clock.start(i+e),this.setBPM(this.bpm)},t.Metro.prototype.stop=function(t){var e=t||0,i=n.audiocontext.currentTime;this.clock.stop(i+e)},t.Metro.prototype.beatLength=function(t){this.tatums=1/t/4}}(),function(){function n(t){t.currentPart++,t.currentPart>=t.parts.length?(t.scoreStep=0,t.onended()):(t.scoreStep=0,t.parts[t.currentPart-1].stop(),t.parts[t.currentPart].start())}var i=e,o=120;t.prototype.setBPM=function(t,e){for(var n in o=t,i.parts)i.parts[n]&&i.parts[n].setBPM(t,e)},t.Phrase=function(t,e,n){this.phraseStep=0,this.name=t,this.callback=e,this.sequence=n},t.Part=function(e,n){this.length=e||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=n||.0625,this.metro=new t.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(o),i.parts.push(this),this.callback=function(){}},t.Part.prototype.setBPM=function(t,e){this.metro.setBPM(t,e)},t.Part.prototype.getBPM=function(){return this.metro.getBPM()},t.Part.prototype.start=function(t){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var e=t||0;this.metro.start(e)}},t.Part.prototype.loop=function(t){this.looping=!0,this.onended=function(){this.partStep=0};var e=t||0;this.start(e)},t.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},t.Part.prototype.stop=function(t){this.partStep=0,this.pause(t)},t.Part.prototype.pause=function(t){this.isPlaying=!1;var e=t||0;this.metro.stop(e)},t.Part.prototype.addPhrase=function(e,n,i){var o;if(3===arguments.length)o=new t.Phrase(e,n,i);else{if(!(arguments[0]instanceof t.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";o=arguments[0]}this.phrases.push(o),o.sequence.length>this.length&&(this.length=o.sequence.length)},t.Part.prototype.removePhrase=function(t){for(var e in this.phrases)this.phrases[e].name===t&&this.phrases.splice(e,1)},t.Part.prototype.getPhrase=function(t){for(var e in this.phrases)if(this.phrases[e].name===t)return this.phrases[e]},t.Part.prototype.replaceSequence=function(t,e){for(var n in this.phrases)this.phrases[n].name===t&&(this.phrases[n].sequence=e)},t.Part.prototype.incrementStep=function(t){this.partStep<this.length-1?(this.callback(t),this.partStep+=1):this.looping||this.partStep!==this.length-1||(console.log("done"),this.onended())},t.Part.prototype.onStep=function(t){this.callback=t},t.Score=function(){this.parts=[],this.currentPart=0;var t=this;for(var e in arguments)arguments[e]&&this.parts[e]&&(this.parts[e]=arguments[e],this.parts[e].nextPart=this.parts[e+1],this.parts[e].onended=function(){t.resetPart(e),n(t)});this.looping=!1},t.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},t.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},t.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},t.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},t.Score.prototype.loop=function(){this.looping=!0,this.start()},t.Score.prototype.noLoop=function(){this.looping=!1},t.Score.prototype.resetParts=function(){var t=this;this.parts.forEach(function(e){t.resetParts[e]})},t.Score.prototype.resetPart=function(t){for(var e in this.parts[t].stop(),this.parts[t].partStep=0,this.parts[t].phrases)this.parts[t]&&(this.parts[t].phrases[e].phraseStep=0)},t.Score.prototype.setBPM=function(t,e){for(var n in this.parts)this.parts[n]&&this.parts[n].setBPM(t,e)}}(),function(){var n=e,i=d;t.SoundLoop=function(t,e){this.callback=t,this.musicalTimeMode="number"!=typeof this._interval,this._interval=e||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var o=this;this.clock=new i({callback:function(t){var e=t-n.audiocontext.currentTime;e>0&&o.iterations<=o.maxIterations&&o.callback(e)},frequency:this._calcFreq()})},t.SoundLoop.prototype.start=function(t){var e=t||0,i=n.audiocontext.currentTime;this.isPlaying||(this.clock.start(i+e),this.isPlaying=!0)},t.SoundLoop.prototype.stop=function(t){var e=t||0,i=n.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(i+e),this.isPlaying=!1)},t.SoundLoop.prototype.pause=function(t){var e=t||0,i=n.audiocontext.currentTime;this.isPlaying&&(this.clock.pause(i+e),this.isPlaying=!1)},t.SoundLoop.prototype.syncedStart=function(t,e){var i=e||0,o=n.audiocontext.currentTime;if(t.isPlaying){if(t.isPlaying){var r=t.clock._nextTick-n.audiocontext.currentTime;this.clock.start(o+r),this.isPlaying=!0}}else t.clock.start(o+i),t.isPlaying=!0,this.clock.start(o+i),this.isPlaying=!0},t.SoundLoop.prototype._update=function(){this.clock.frequency.value=this._calcFreq()},t.SoundLoop.prototype._calcFreq=function(){return"number"==typeof this._interval?(this.musicalTimeMode=!1,1/this._interval):"string"==typeof this._interval?(this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)):void 0},t.SoundLoop.prototype._convertNotation=function(t){var e=t.slice(-1);switch(t=Number(t.slice(0,-1)),e){case"m":return this._measure(t);case"n":return this._note(t);default:console.warn("Specified interval is not formatted correctly. See Tone.js timing reference for more info: https://github.com/Tonejs/Tone.js/wiki/Time")}},t.SoundLoop.prototype._measure=function(t){return t*this._timeSignature},t.SoundLoop.prototype._note=function(t){return this._timeSignature/t},Object.defineProperty(t.SoundLoop.prototype,"bpm",{get:function(){return this._bpm},set:function(t){this.musicalTimeMode||console.warn('Changing the BPM in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._bpm=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.musicalTimeMode||console.warn('Changing the timeSignature in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._timeSignature=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"interval",{get:function(){return this._interval},set:function(t){this.musicalTimeMode="Number"!=typeof t,this._interval=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"iterations",{get:function(){return this.clock.ticks}}),t.SoundLoop}(),function(){"use strict";var e=l;t.Compressor=function(){e.call(this),this.compressor=this.ac.createDynamicsCompressor(),this.input.connect(this.compressor),this.compressor.connect(this.wet)},t.Compressor.prototype=Object.create(e.prototype),t.Compressor.prototype.process=function(t,e,n,i,o,r){t.connect(this.input),this.set(e,n,i,o,r)},t.Compressor.prototype.set=function(t,e,n,i,o){void 0!==t&&this.attack(t),void 0!==e&&this.knee(e),void 0!==n&&this.ratio(n),void 0!==i&&this.threshold(i),void 0!==o&&this.release(o)},t.Compressor.prototype.attack=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.attack.value=t,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.attack.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.attack),this.compressor.attack.value},t.Compressor.prototype.knee=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.knee.value=t,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.knee.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.knee),this.compressor.knee.value},t.Compressor.prototype.ratio=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.ratio.value=t,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.ratio.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.ratio),this.compressor.ratio.value},t.Compressor.prototype.threshold=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.threshold.value=t,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.threshold.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.threshold),this.compressor.threshold.value},t.Compressor.prototype.release=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.release.value=t,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.release.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):"undefined"!=typeof number&&t.connect(this.compressor.release),this.compressor.release.value},t.Compressor.prototype.reduction=function(){return this.compressor.reduction.value},t.Compressor.prototype.dispose=function(){e.prototype.dispose.apply(this),this.compressor&&(this.compressor.disconnect(),delete this.compressor)},t.Compressor}(),function(){function n(t,e,n){for(var i=n.length,o=0;i>o;o++)t.setUint8(e+o,n.charCodeAt(o))}var i=e,o=i.audiocontext;t.SoundRecorder=function(){this.input=o.createGain(),this.output=o.createGain(),this.recording=!1,this.bufferSize=1024,this._channels=2,this._clear(),this._jsNode=o.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(t.soundOut._silentNode),this.setInput(),i.soundArray.push(this)},t.SoundRecorder.prototype.setInput=function(e){this.input.disconnect(),this.input=null,this.input=o.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),e?e.connect(this.input):t.soundOut.output.connect(this.input)},t.SoundRecorder.prototype.record=function(t,e,n){this.recording=!0,e&&(this.sampleLimit=Math.round(e*o.sampleRate)),t&&n?this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer),n()}:t&&(this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer)})},t.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},t.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},t.SoundRecorder.prototype._audioprocess=function(t){if(!1!==this.recording&&!0===this.recording)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var e=t.inputBuffer.getChannelData(0),n=t.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(e)),this._rightBuffers.push(new Float32Array(n)),this.recordedSamples+=this.bufferSize}},t.SoundRecorder.prototype._getBuffer=function(){var t=[];return t.push(this._mergeBuffers(this._leftBuffers)),t.push(this._mergeBuffers(this._rightBuffers)),t},t.SoundRecorder.prototype._mergeBuffers=function(t){for(var e=new Float32Array(this.recordedSamples),n=0,i=t.length,o=0;i>o;o++){var r=t[o];e.set(r,n),n+=r.length}return e},t.SoundRecorder.prototype.dispose=function(){this._clear();var t=i.soundArray.indexOf(this);i.soundArray.splice(t,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},t.prototype.saveSound=function(e,i){var o,r;o=e.buffer.getChannelData(0),r=e.buffer.numberOfChannels>1?e.buffer.getChannelData(1):o;var s=function(t,e){for(var n=t.length+e.length,i=new Float32Array(n),o=0,r=0;n>r;)i[r++]=t[o],i[r++]=e[o],o++;return i}(o,r),a=new window.ArrayBuffer(44+2*s.length),u=new window.DataView(a);n(u,0,"RIFF"),u.setUint32(4,36+2*s.length,!0),n(u,8,"WAVE"),n(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,2,!0),u.setUint32(24,44100,!0),u.setUint32(28,176400,!0),u.setUint16(32,4,!0),u.setUint16(34,16,!0),n(u,36,"data"),u.setUint32(40,2*s.length,!0);for(var c=s.length,p=44,l=0;c>l;l++)u.setInt16(p,32767*s[l],!0),p+=2;t.prototype.writeFile([u],i,"wav")}}(),t.PeakDetect=function(t,e,n,i){this.framesPerPeak=i||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=n||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=t||40,this.f2=e||2e4,this._onPeak=function(){}},t.PeakDetect.prototype.update=function(t){var e=this.energy=t.getEnergy(this.f1,this.f2)/255;e>this.cutoff&&e>this.threshold&&e-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=e*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=e,this.penergy=e},t.PeakDetect.prototype.onPeak=function(t,e){var n=this;n._onPeak=function(){t(n.energy,e)}},function(){var n=e;t.Gain=function(){this.ac=n.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),n.soundArray.push(this)},t.Gain.prototype.setInput=function(t){t.connect(this.input)},t.Gain.prototype.connect=function(e){var n=e||t.soundOut.input;this.output.connect(n.input?n.input:n)},t.Gain.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.Gain.prototype.amp=function(t,e,i){var e=e||0,i=i||0,o=n.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i),this.output.gain.linearRampToValueAtTime(t,o+i+e)},t.Gain.prototype.dispose=function(){var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this.output&&(this.output.disconnect(),delete this.output),this.input&&(this.input.disconnect(),delete this.input)}}(),m=function(){var n=e;return t.AudioVoice=function(){this.ac=n.audiocontext,this.output=this.ac.createGain(),this.connect(),n.soundArray.push(this)},t.AudioVoice.prototype.play=function(t,e,n,i){},t.AudioVoice.prototype.triggerAttack=function(t,e,n){},t.AudioVoice.prototype.triggerRelease=function(t){},t.AudioVoice.prototype.amp=function(t,e){},t.AudioVoice.prototype.connect=function(t){var e=t||n.input;this.output.connect(e.input?e.input:e)},t.AudioVoice.prototype.disconnect=function(){this.output.disconnect()},t.AudioVoice.prototype.dispose=function(){this.output&&(this.output.disconnect(),delete this.output)},t.AudioVoice}(),function(){var i=e,o=m,r=n.noteToFreq;t.MonoSynth=function(){o.call(this),this.oscillator=new t.Oscillator,this.env=new t.Envelope,this.env.setRange(1,0),this.env.setExp(!0),this.setADSR(.02,.25,.05,.35),this.filter=new t.Filter("highpass"),this.filter.set(5,1),this.oscillator.disconnect(),this.oscillator.connect(this.filter),this.env.disconnect(),this.env.setInput(this.oscillator),this.filter.connect(this.output),this.oscillator.start(),this.connect(),this._isOn=!1,i.soundArray.push(this)},t.MonoSynth.prototype=Object.create(t.AudioVoice.prototype),t.MonoSynth.prototype.play=function(t,e,n,i){this.triggerAttack(t,e,~~n),this.triggerRelease(~~n+(i||.15))},t.MonoSynth.prototype.triggerAttack=function(t,e,n){var n=~~n,i=r(t),o=e||.1;this._isOn=!0,this.oscillator.freq(i,0,n),this.env.ramp(this.output,n,o)},t.MonoSynth.prototype.triggerRelease=function(t){var t=t||0;this.env.ramp(this.output,t,0),this._isOn=!1},t.MonoSynth.prototype.setADSR=function(t,e,n,i){this.env.setADSR(t,e,n,i)},Object.defineProperties(t.MonoSynth.prototype,{attack:{get:function(){return this.env.aTime},set:function(t){this.env.setADSR(t,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(t){this.env.setADSR(this.env.aTime,t,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(t){this.env.setADSR(this.env.aTime,this.env.dTime,t,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(t){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,t)}}}),t.MonoSynth.prototype.amp=function(t,e){var n=e||0;return void 0!==t&&this.oscillator.amp(t,n),this.oscillator.amp().value},t.MonoSynth.prototype.connect=function(t){var e=t||i.input;this.output.connect(e.input?e.input:e)},t.MonoSynth.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.MonoSynth.prototype.dispose=function(){o.prototype.dispose.apply(this),this.filter&&this.filter.dispose(),this.env&&this.env.dispose(),this.oscillator&&this.oscillator.dispose()}}(),function(){var i=e,o=c,r=n.noteToFreq;t.PolySynth=function(e,n){this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.maxVoices=n||8,this.AudioVoice=void 0===e?t.MonoSynth:e,this._voicesInUse=new o(0),this.output=i.audiocontext.createGain(),this.connect(),this._allocateVoices(),i.soundArray.push(this)},t.PolySynth.prototype._allocateVoices=function(){for(var t=0;t<this.maxVoices;t++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[t].disconnect(),this.audiovoices[t].connect(this.output)},t.PolySynth.prototype.play=function(t,e,n,i){var i=i||1;this.noteAttack(t,e,n),this.noteRelease(t,n+i)},t.PolySynth.prototype.noteADSR=function(t,e,n,o,r,s){var a=i.audiocontext.currentTime,s=s||0,u=a+s;this.audiovoices[this.notes[t].getValueAtTime(u)].setADSR(e,n,o,r)},t.PolySynth.prototype.setADSR=function(t,e,n,i){this.audiovoices.forEach(function(o){o.setADSR(t,e,n,i)})},t.PolySynth.prototype.noteAttack=function(e,n,s){var a,s=~~s,u=i.audiocontext.currentTime+s,c=r(e),p=n||.1;if(this.notes[c]&&null!==this.notes[c].getValueAtTime(u)&&this.noteRelease(c,0),this._voicesInUse.getValueAtTime(u)<this.maxVoices)a=Math.max(~~this._voicesInUse.getValueAtTime(u),0);else{a=this._oldest;var l=t.prototype.freqToMidi(this.audiovoices[this._oldest].oscillator.freq().value);this.noteRelease(l),this._oldest=(this._oldest+1)%(this.maxVoices-1)}this.notes[c]=new o,this.notes[c].setValueAtTime(a,u);var h=null===this._voicesInUse._searchBefore(u)?0:this._voicesInUse._searchBefore(u).value;if(this._voicesInUse.setValueAtTime(h+1,u),this._updateAfter(u,1),this._newest=a,"number"==typeof p){var f=1/this._voicesInUse.getValueAtTime(u)*2;p=p>f?f:p}this.audiovoices[a].triggerAttack(c,p,s)},t.PolySynth.prototype._updateAfter=function(t,e){if(null!==this._voicesInUse._searchAfter(t)){this._voicesInUse._searchAfter(t).value+=e;var n=this._voicesInUse._searchAfter(t).time;this._updateAfter(n,e)}},t.PolySynth.prototype.noteRelease=function(t,e){var n=i.audiocontext.currentTime,o=e||0,s=n+o;if(t){var a=r(t);if(this.notes[a]&&null!==this.notes[a].getValueAtTime(s)){var u=Math.max(~~this._voicesInUse.getValueAtTime(s).value,1);this._voicesInUse.setValueAtTime(u-1,s),u>0&&this._updateAfter(s,-1),this.audiovoices[this.notes[a].getValueAtTime(s)].triggerRelease(o),this.notes[a].dispose(),delete this.notes[a],this._newest=0===this._newest?0:(this._newest-1)%(this.maxVoices-1)}else console.warn("Cannot release a note that is not already playing")}else for(var c in this.audiovoices.forEach(function(t){t.triggerRelease(o)}),this._voicesInUse.setValueAtTime(0,s),this.notes)this.notes[c].dispose(),delete this.notes[c]},t.PolySynth.prototype.connect=function(t){var e=t||i.input;this.output.connect(e.input?e.input:e)},t.PolySynth.prototype.disconnect=function(){this.output&&this.output.disconnect()},t.PolySynth.prototype.dispose=function(){this.audiovoices.forEach(function(t){t.dispose()}),this.output&&(this.output.disconnect(),delete this.output)}}(),function(){function e(t){for(var e,n="number"==typeof t?t:50,i=44100,o=new Float32Array(i),r=Math.PI/180,s=0;i>s;++s)e=2*s/i-1,o[s]=(3+n)*e*20*r/(Math.PI+n*Math.abs(e));return o}var n=l;t.Distortion=function(i,o){if(n.call(this),void 0===i&&(i=.25),"number"!=typeof i)throw new Error("amount must be a number");if(void 0===o&&(o="2x"),"string"!=typeof o)throw new Error("oversample must be a String");var r=t.prototype.map(i,0,1,0,2e3);this.waveShaperNode=this.ac.createWaveShaper(),this.amount=r,this.waveShaperNode.curve=e(r),this.waveShaperNode.oversample=o,this.input.connect(this.waveShaperNode),this.waveShaperNode.connect(this.wet)},t.Distortion.prototype=Object.create(n.prototype),t.Distortion.prototype.process=function(t,e,n){t.connect(this.input),this.set(e,n)},t.Distortion.prototype.set=function(n,i){if(n){var o=t.prototype.map(n,0,1,0,2e3);this.amount=o,this.waveShaperNode.curve=e(o)}i&&(this.waveShaperNode.oversample=i)},t.Distortion.prototype.getAmount=function(){return this.amount},t.Distortion.prototype.getOversample=function(){return this.waveShaperNode.oversample},t.Distortion.prototype.dispose=function(){n.prototype.dispose.apply(this),this.waveShaperNode&&(this.waveShaperNode.disconnect(),this.waveShaperNode=null)}}(),function(){var t=e}()}(t)}.apply(e,i))||(t.exports=o)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(6),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,s,a,u=1,c={},p=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){r.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[u]=o,i(u),u++},h.clearImmediate=f}function f(t){delete c[t]}function d(t){if(p)setTimeout(d,0,t);else{var e=c[t];if(e){p=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),p=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(7))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],p=!1,l=-1;function h(){p&&u&&(p=!1,u.length?c=u.concat(c):l=-1,c.length&&f())}function f(){if(!p){var t=a(h);p=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,p=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||p||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this.$createElement;return(this._self._c||t)("div")};i._withStripped=!0;var o=n(0),r=n.n(o);n(3),n(4);var s=function(t,e,n,i,o,r,s,a){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var p=c.render;c.render=function(t,e){return u.call(e),p(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}(n(2).a.extend({mounted:function(){var t=this,e={preload:"preload",setup:"setup",draw:"draw",keyPressed:"keypressed",keyReleased:"keyreleased",keyTyped:"keytyped",mouseMoved:"mousemoved",mouseDragged:"mousedragged",mousePressed:"mousepressed",mouseReleased:"mousereleased",mouseClicked:"mouseclicked",doubleClicked:"doubleclicked",mouseWheel:"mousewheel",touchStarted:"touchstarted",touchMoved:"touchmoved",touchEnded:"touchended",deviceMoved:"devicemoved",deviceTurned:"deviceturned",deviceShaken:"deviceshaken"};return new r.a(function(n){t.$emit("sketch",n),Object.keys(e).forEach(function(i){var o=e[i],r=n[i];n[i]=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];r&&r.apply(void 0,[n].concat(i)),t.$emit.apply(t,[o,n].concat(i))}})},this.$el)}}),i,[],!1,null,null,null);s.options.__file="src/p5-component.vue";e.default=s.exports}])});